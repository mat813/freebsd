<!--
    FreeBSD Japanese Documentation Project

    $FreeBSD$

    Original revision: 1.22.2.86.2.1
-->

<!--
	The "What's New" section of the release notes.  Within
	each subsection (i.e. kernel, security, userland), list
	items in chronological order, unless necessary to keep
	related items together, such as multiple release notes
	pertaining to a single program or module.

-->

<sect1>
  <sect1info>
    <pubdate>$FreeBSD$</pubdate>
  </sect1info>

  <title>更新情報</title>

  <para>この節では &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します.</para>

  <para>&os; に加えられた変更点のうち,
    スペースの都合上ここに書かれていないものも多数存在します.
    それらはたとえば文書の修正や改良, ごく影響の小さいバグの修正,
    監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正,
    ソースコードの整理などです.</para>

  <para>リリースノートの項目は, 大きく三つの節から構成されています.
    まず <xref linkend="kernel"> には &os;
    カーネルに加えられた最新の変更点が書かれています.
    そして <xref linkend="security">
    にはセキュリティ勧告を含むセキュリティ上の修正が,
    最後の <xref linkend="userland"> には &os;
    のベースシステムに含まれているユーザランドアプリケーションの
    変更点がまとめられています.</para>

  <sect2 id="kernel">
    <title>カーネルの変更点</title>

    <para>&man.open.2; および &man.fcntl.2; に
      <literal>O_DIRECT</literal> フラグが追加されました.
      ファイルオープン時にこのフラグを設定すると,
      読み書き時のキャッシュの影響を最小化します.</para>

    <para>&man.orm.4; デバイスが追加されました.
      これは他のドライバが誤って ROM と重なったアドレスを割り当てることのないよう,
      ISA メモリ I/O 空間内のオプション ROM を取得するためのものです.</para>

    <para>デッドロックを避けるため,
      スワップ領域不足時のプロセス終了処理は古いプロセスから行なわれるようになりました.
      さらにその終了処理では,
      プロセスサイズの計算に必要なスワップ領域も考慮に入れるようになりました.</para>

    <para>ネットワークデバイスのクローニングが新たに実装され,
      それを利用するように &man.gif.4; デバイスが変更されました.
      そのためデバイスインスタンスを追加したい場合は
      カーネルコンフィグレーションファイルに利用する数だけ
      &man.gif.4; を指定するのではなく,
      &man.ifconfig.8; の <option>create</option>
      オプションを使ってください.</para>

    <para>&man.ddb.4; に新たなコマンド <command>hwatch</command>
      <command>dhwatch</command> が導入されました.
      アーキテクチャが対応している必要がありますが,
      これらは (ソフトウェアウォッチポイントを設定する)
      <command>watch</command> および <command>dwatch</command>
      のようにハードウェアウォッチポイントを設定するためのものです.</para>

    <para>新しく &man.nmdm.4; ヌルモデム端末ドライバが追加されました.</para>

    <para>&man.stl.4; ドライバが
      Signetics SC26C194/8 Intelligent Quad/Octal UART ベースの
      Stallion Technologies 社製
      PCI/ISA EasyIO マルチポートシリアルカードに対応しました.</para>

    <para arch="i386">&os; ブートローダに対して,
      疑似フロッピの第一セクタに変更のできる有効な MS-DOS BPB を想定している
      IBM BIOS での起動に対応するための修正が行なわれました.
      <!-- hrs: need to be revised here --></para>
 
    <para arch="alpha">CDROM からの &os; の起動に長い間存在していたバグが修正されました.
      これにより, AlphaServer 1200 のようなマシンもインストール CDROM,
      fixit CDROM から起動できるようになっています.</para>

    <sect3>
      <title>プロセッサ・マザーボードの対応状況</title>

      <para arch="i386">Transmeta Crusoe, Transmeta Crusoe LongRun
        といった, 新しいプロセッサの検出コードが追加されました.</para>

      <para arch="alpha">起動フロッピディスクの容量が制限されているため,
        インストール用カーネルから DEC3000 TurboChannel
        ベースのマシンへの対応が削除されました.
        また, 同様の理由で
        &man.ncr.4;, &man.sa.4;, &man.amr.4;, &man.plip.4;,
        &man.le.4;, &man.pcn.4;, &man.wx.4;, and &man.sl.4;
        の各ドライバもインストール用カーネルから削除されています.
        &man.ncr.4; ドライバが対応していた Symbios 社製アダプタは,
        すべてではありませんが新しい &man.sym.4;
        ドライバが対応しています.</para>

      <para arch="i386">Streaming <acronym>SIMD</acronym> Extensions
        (<acronym>SSE</acronym>) が導入されました.
        SSE 対応をカーネルに組み込むかどうかの制御は
        <literal>CPU_ENABLE_SSE</literal> カーネルオプションで行なうことができます.</para>

      <para arch="alpha"> &os; が
        Whitebox (NT-only) AlphaServer 530x マシンに対応しました.
        &os; は普通どおり, AlphaBIOS ではなく SRM から起動します.
        &os; で使用する SCSI アダプタが ID 0 になっていることを確認してください.</para>
    </sect3>

    <sect3>
      <title>ネットワークインターフェイスの対応状況</title>

      <para>&man.fxp.4; ドライバはカーネルコンフィグレーションファイルに
        <literal>device miibus</literal> のエントリを必要とするようになりました.</para>

      <para>&man.wx.4; ドライバが Intel PRO1000-F および
        PRO1000-T (10/100/1000) アダプタに対応しました.</para>

      <para>&man.an.4; ドライバが Cisco Aironet 350
        シリーズのアダプタに対応し, いくつかバグ修正が行なわれました.
        promiscuos モードが動作するようになり,
        <literal>up</literal> する前に設定することができるようになっています.</para>

      <para>&man.xl.4; ドライバが
        VLAN タグフレームの受信に対応しました
        (ただし <quote>Cyclone</quote> チップセットおよび,
        それ以降の新しいチップセットのみ).</para>

      <para>&man.ti.4; ドライバが VLAN タグを正しくマスクするようになりました.</para>

      <para>National Semiconductor DP83820 および DP83821
        ギガビットイーサネットコントローラチップをベースとした
        PCI ギガビットイーサネットアダプタに対応する
        &man.nge.4; ドライバが新たに追加されました.
        これは D-Link DGE-500T, SMC EZ Card 1000 (SMC9462TX),
        Asante FriendlyNet GigaNIC 1000TA および 1000TPC,
        Addtron AEG320T に対応しています.
        また, このドライバは送受信チェックサムのオフロード機能に対応しています.</para>

      <para>Level 1 LXT1001 NetCellerator
        ギガビットイーサネットコントローラチップに対応する
        &man.lge.4; ドライバが新たに追加されました.
        このドライバは SMC, D-Link, Addtron
        製の光ファイバギガビットイーサネットカードを利用するために使われるものです.
        Jumbograms および受信時の TCP/IP チェックサムのオフロード機能に対応していますが,
        ハードウェア VLAN フィルタには対応していません.</para>

      <para>The &man.tx.4; ドライバが新しく
        SMC 9432FTX 光ファイバ NIC に対応しました.</para>

      <para>&man.ed.4; ドライバが, NetGear FA-410TX などが採用している
        D-Link DL10022 チップに対応しました.
        そのため &man.ed.4; を使用する際はカーネルコンフィグレーションファイルに
        <literal>device miibus</literal> を追加しなければならなくなっています.</para>

      <para>&man.txp.4; ドライバが追加されました.
        これは 3Com 3XP Typhoon/Sidewinder (3CR990) チップセットベースの
        ネットワークインターフェイスに対応しています.</para>
    </sect3>

    <sect3>
      <title>ネットワークプロトコル</title>

      <para>&man.rc.conf.5; の標準設定において
        TCP の RFC 1323 拡張が有効化されるようになりました.</para>

      <para>接続が確立される際, 三番目の SYN
        セグメントが送られるまでに反応がなかった場合は
        RFC 1323 および RFC 1644 の TCP 拡張が無効化されるようになりました.
        この動作は VJ ヘッダ圧縮の実装にバグがある
        (非常に古い) ターミナルサーバに対応するためのものです.</para>

      <para><literal>TCP_RESTRICT_RST</literal> カーネルオプションが削除されました.
        同様の機能は sysctl 変数
        <varname>net.inet.tcp.blackhole</varname> で実現可能です.</para>

      <para>各接続に対して TCP
        テンプレート構造体のメモリ割り当てを行なわないように
        TCP 実装が変更されました.
        これは多くの接続を扱う大規模システムにおいてバッファの使用量を低減します.</para>

      <para>sysctl 変数 <varname>net.inet.ip.check_interface</varname>
        が新たに追加されました.  これは標準設定で off になっており,
        パケットの送信先アドレスと一致するアドレスを持ったインターフェイスに
        パケットが到着したかどうか IP レベルでチェックを行ないます.</para>

      <para>IP パケットの ID フィールドを乱数化する
        <literal>options RANDOM_IP_ID</literal>
        カーネルオプションが追加されました.
        これはリモートの観測者が,
        各送信パケットに対して一つずつカウントを増加させるという標準的な動作から
        マシンのパケット生成速度を推定できないようにするものです.</para>
    </sect3>

    <sect3>
      <title>ディスク・記憶装置</title>

      <para arch="i386">The &man.asr.4; ドライバが
        Adaptec 2000S, 2005S Zero-Channel RAID コントローラに対応しました.</para>

      <para arch="i386">The &man.aac.4; ドライバが
        Adaptec SCSI RAID 5400S コントローラに対応しました.</para>

      <para>&man.ata.4;
        ドライバは標準設定で書き込みキャッシュが有効化されるようになりました.</para>

      <para>&man.wd.4; 互換デバイスが
        &man.ata.4; ドライバから削除されました.</para>

      <para arch="alpha">
        AlphaServer DS10 および AlphaServer DS20 は,
        フロッピディスクドライブへのアクセスが正常に動作しません.
        DS10 はたくさんのエラーが出力され,
        DS20 ではマシンが異常停止します.</para>
    </sect3>

    <sect3>
      <title>ファイルシステム</title>

      <para arch="i386">カーネルが smbfs (CIFS) に対応しました.
        ユーザランド側のファイルシステムマウントユーティリティは
        &os; Ports Collection にある
        <port>net/smbfs</port> の port に含まれています.</para>

      <para>巨大なディレクトリ用に,
        <literal>dirhash</literal>
        と呼ばれる単純なハッシュをベースとした検索効率化処理が追加されました.
        <literal>UFS_DIRHASH</literal>
        カーネルオプションの設定により,
        メモリを多少余分に使って巨大なディレクトリの操作速度を向上させることが可能です.</para>
    </sect3>

    <sect3>
      <title>PCCARD 対応状況</title>

      <para>比較的新しいマシンの多くで, PCCARD デバイスの割り込みを
        ISA もしくは PCI のいずれかの割り込み経路に設定することが可能になりました.
        &man.pcic.4; ドライバが更新され, 新たにその両方の割り込み経路に対応
        (以前は ISA のみの対応でした) しています. 
        ほとんどのラップトップ型 PC における PCMCIA
        デバイスの設定が簡単で柔軟に行なえるようになっています.
        また, さまざまある PCI バスを使った Cardbus ブリッジ (Orinoco 社の PCI NIC
        で使われています) にも対応しました.
        PCI 割り込み経路制御が原因で,
        マシンの異常停止やパニック等の問題が発生するものもありますが,
        その場合は従来の ISA 割り込み経路制御に設定することで問題を解決できる可能性があります.
        その際には <filename>/boot/loader.conf</filename>
        にある次の行を書き換えてください.</para>
      
      <programlisting>hw.pcic.intr_path="1"
hw.pcic.irq="0"</programlisting>

      <para>&os; を問題の発生するマシンにインストールする際は,
        一番最初の起動中, ブートローダに次の行を入力すると良いでしょう.</para>

      <screen><prompt>ok</prompt> <userinput>set hw.pcic.intr_path="1"</userinput>
<prompt>ok</prompt> <userinput>set hw.pcic.irq="0"</userinput></screen>

      <para>PCCARD の取り出し時にたまに異常停止するような場合は,
        次のようにすることでその問題を回避することができます.</para>
      
      <screen><prompt>#</prompt> <userinput>pccardc power 0 <replaceable>slot</replaceable></userinput></screen>
    </sect3>

    <sect3>
      <title>マルチメディアへの対応状況</title>
      
      <para arch="i386">Advance Logic ALS4000 用ドライバが新たに追加されました.</para>
    </sect3>

    <sect3>
      <title>寄贈ソフトウェア</title>

      <para><application>IPFilter</application> が
        バージョン 3.4.20 に更新されました.</para>

      <sect4 arch="i386">
        <title>isdn4bsd</title>

	<para><application>isdn4bsd</application> が
          バージョン 1.0.1 に更新されました.
          この更新により, 
          &man.i4bisppp.4; (カーネル PPP over ISDN)
          ドライバを使用している場合は,
          ネットワークインターフェイスの設定や制御の際に
          &man.spppcontrol.8; ではなく &man.ispppcontrol.8;
          を<emphasis>使わなければならなく</emphasis>なっています.</para>

	<para>Cologne Chip Designs HFC デバイスを
          <application>isdn4bsd</application> に対応させる
          &man.ihfc.4; ドライバが新たに追加されました.</para>

        <para>NETjet-S / Teles PCI-TJ デバイスを
          <application>isdn4bsd</application> に対応させる
          &man.itjc.4; ドライバが新たに追加されました.</para>

        <para>実験的なものですが,
          &man.isic.4; <application>isdn4bsd</application> ドライバが
          Eicon.Diehl DIVA 2.0 および 2.02 ISA PnP ISDN カードに対応しました.</para> 

	<para>&man.i4bcapi.4; および &man.iavc.4; ドライバにより
          AVM 製の Active CAPI ベースの ISDN カードに対応しました.
          対応しているカードは
          AVM B1 PCI/AVM B1 ISA Basic Rate カード,
          AVM T1 Primary Rate カードです.</para>

	<para>&man.isdnd.rc.5; ファイルに新たなキーワード
          <literal>maxconnecttime</literal> が追加されました.
          これは一つの接続がオープン状態にある時間を制限します.</para>
      </sect4>

      <sect4 id="kame-kernel">
        <title>KAME</title>

        <para>IPv6 スタックが KAME プロジェクトの
          2001 年 5 月 28 日のスナップショットをベースとしたものになりました.
          この節の項目のほとんどは, それが取り込まれたことによるものです.
          KAME IPv6 スタックのユーザランドにおける更新情報は
          <xref linkend="kame-userland"> に書かれています.</para>

        <para>&man.gif.4; が RFC 1933 ではなく RFC 2893 準拠のものになりました.
          イングレスフィルタの制御は
          <literal>IFF_LINK2</literal>
          インターフェイスフラグで行なうことが可能です.</para>

	<para><application>IPSec</application> が多少改良され,
          Rijndael, SHA2 アルゴリズムを利用できるようになりました.
          特許の問題のため IPSec の RC5 対応は削除されています.</para>

	<para>&man.stf.4; が RFC 3056 に準拠し,
          イングレスフィルタの制御を
          <literal>IFF_LINK2</literal>
          インターフェイスフラグで行なえるようになりました.</para>

	<para>IPv6 が物理ネットワーク上の不正なアドレス
          (ループバックアドレスなど) を厳密にチェックするようになりました.</para>

	<para><varname>IPV6_V6ONLY</varname>
          ソケットオプションに完全対応しました.
          このオプションに関するカーネルの標準動作は
          sysctl 変数 <varname>net.inet6.ip6.v6only</varname>
          によって制御されます.</para>

	<para>RFC 3041 (Privacy Extensions for Stateless Address
          Autoconfiguration) に対応しました.
          これは sysctl 変数
          <varname>net.inet6.ip6.use_tempaddr</varname>
          で有効化することができます.</para>
      </sect4>
    </sect3>
  </sect2>

  <sect2 id="security">
    <title>セキュリティ関連の修正</title>

    <para>セキュリティ勧告 FreeBSD-SA-01:39 で述べられている
      TCP 初期シーケンス番号生成制御に関する修正は,
      互換性が問題になる可能性があります.
      問題を回避できるよう, この修正は sysctl 変数
      <varname>net.inet.tcp.tcp_seq_genscheme</varname>
      で有効化・無効化の制御ができるようになっています.</para>

    <para>(再帰的にファイルシステムを探索するアプリケーションで使われる)
      &man.fts.3; ルーチンに存在していた,
      指定したディレクトリ階層の外にあるファイルを操作することが可能である,
      というセキュリティ上の弱点が修正されました.
      (セキュリティ勧告 FreeBSD-SA-01:40 参照).</para>

    <para>&man.portmap.8; は標準で無効になりました.
      ただし NFS サービス, NIS サービス, &man.amd.8; サービスを
      &man.rc.conf.5; 経由で有効化した場合は,
      自動的に &man.portmap.8; が実行されます.</para>

    <para>親プロセスから exec された子プロセスにおいて,
      実際にはいくつかのシグナルハンドラがそのままになってしまう欠陥が修正されました
      (セキュリティ勧告 FreeBSD-SA-01:42 参照).
      攻撃者はこれを利用して setuid
      されたバイナリの権限で任意のコードを実行できます.</para>

    <para>&man.tcpdump.1; に含まれていた,
      リモートから悪用可能なバッファオーバフロー問題が修正されました.
      (セキュリティ勧告 FreeBSD-SA-01:48 参照). </para>

    <para>&man.telnetd.8; に含まれていた,
      リモートから悪用可能なバッファオーバフロー問題が修正されました.
      (セキュリティ勧告 FreeBSD-SA-01:49 参照). </para>

    <para>sysctl 変数 <varname>net.inet.ip.maxfragpackets</varname> 
      および <varname>net.inet.ip6.maxfragpackets</varname>
      が新たに加えられました.
      これらは IPv4, IPv6 パケットのフラグメントが消費するメモリ量の上限を設定し,
      ある種のサービス妨害攻撃を防ぐためのものです
      (セキュリティ勧告 FreeBSD-SA-01:52 参照)</para>

    <para>&man.sysinstall.8;
      の新規インストール時に選べる<quote>セキュリティプロファイル</quote>の数が
      2 種類に減らされました.</para>

    <para><filename>inetd.conf</filename> におけるすべてのサービスが
      標準の新規インストールで無効化されるようになりました.
      また &man.sysinstall.8; では,
      <filename>inetd.conf</filename> の編集機能に加えて
      &man.inetd.8; そのものの有効化/無効化の選択が追加されています.</para>

    <para>二点間 (point-to-point) リンクにおける &man.ipfw.8; <literal>me</literal>
      ルール実装の欠陥が修正されました.
      以前の <literal>me</literal>
      フィルタルールは二点間インターフェイスのローカル側 IP アドレスだけでなく,
      リモート側 IP アドレスにもマッチしてしまいます (セキュリティ勧告
      FreeBSD-SA-01:53 参照).</para>

    <para>&man.procfs.5; にあったセキュリティ上の弱点が修正されました.
      これはプロセスから他のプロセスのメモリ空間にある機密情報を読むことができるよいうものです
      (セキュリティ勧告 FreeBSD-SA-01:55 参照).</para>

    <para><application>tcp_wrappers</application> にある
      <literal>PARANOID</literal>
      ホスト名チェック機能がきちんと動作するようになりました
      (セキュリティ勧告 FreeBSD-SA-01:56 参照).</para>

    <para>ローカルから悪用可能な &man.sendmail.8; のセキュリティ上の弱点が修正されました
      (セキュリティ勧告 FreeBSD-SA-01:57 参照).</para>
    
    <para>リモートから root 権限を不正に奪うことが可能な
      &man.lpd.8; のセキュリティ上の弱点が修正されました
      (セキュリティ勧告 FreeBSD-SA-01:58 参照).</para>

    <para>&man.rmuser.8; に存在していた競合状態が修正されました.
      これは非常に限られた時間ですが
      <filename>/etc/master.passwd</filename>
      が誰でも読み込み可能な状態になるというものです
      (セキュリティ勧告 FreeBSD-SA-01:59 参照). </para>

    <para>標準のシステムパスに存在する, <username>root</username>
      が所有者となっていないあらゆるバイナリに
      <literal>schg</literal> フラグが設定されるようになりました.
      これは &man.cron.8; を経由したり, あるいは
      <username>root</username>
      ユーザやそのバイナリ所有者以外のユーザから実行し,
      そのバイナリを悪用することを防ぐためです.
      また <filename>/etc/periodic/daily/410.status-uucp</filename> から
      実行される &man.uustat.1; は,
      <username>root</username> 権限ではなく
      <username>uucp</username> ユーザ権限で実行されるように変更されています.</para>

    <para>&man.semop.2;
      システムコールに存在していたバッファオーバフロー問題による
      セキュリティホールが修正されました.</para>
  </sect2>

  <sect2 id="userland">
    <title>ユーザランドの変更点</title>
    
    <para>&man.ip6fw.8;
      にファイル読み込み時のプリプロセッサ機能と
      <option>-q</option> (quiet) フラグが新たに追加されました.</para>
    
    <para>&man.ping.8; に, 送出パケットの TTL を設定する
      <option>-m</option> オプションが追加されました.</para>

    <para>&man.ln.1; に, 処理対象ファイルがリンクだった場合に
      それをたどらないようにする <option>-h</option> オプションフラグが追加されました.
      また, 他の実装との互換性を高めるため <option>-n</option>
      オプションフラグも同じ目的で使用可能です.</para>

    <para>&man.find.1; にファイルのタイムスタンプを比較するための新しいオプション
      <option>-anewer</option>,
      <option>-cnewer</option>, <option>-mnewer</option>,
      <option>-okdir</option>, <option>-newer[acm][acmt]</option>
      が追加されました.</para>
 
    <para>ELF 動的リンカである &man.rtld.1; のパフォーマンスが向上しました.</para>

    <para>&man.ifconfig.8; コマンドが CIDR の / 記号を用いた記法に対応しました.</para>
    
    <para>&man.c89.1; がシェルスクリプトからバイナリ実行ファイルに置き換えられ,
      いくつかあった小さなバグが修正されました.</para>

    <para>&man.vidcontrol.1; に
      &man.syscons.4; 画像バッファのスナップショットをとるための新しいオプション
      <option>-p</option> が追加されました.
      このオプションによるスナップショットは,
      Ports Collection に含まれる
      <port>graphics/scr2png</port> ユーティリティで操作することができます.</para>

    <para>&man.vidcontrol.1; において,
      フォントロード時のフォントサイズ指定を省略できるようになりました.
      また, エラー処理部分にいくつかの改良も加えられています.</para>

    <para>&man.telnet.1; に新しいオプション
      <option>-u</option> が追加されました.
      これは UNIX ドメイン (<literal>AF_UNIX</literal>)
      ソケットへの接続を可能にするものです.</para>

    <para>&man.newfs.8; に, 新しいファイルシステムの
      softupdates 機能を有効化する <option>-U</option>
      オプションフラグが追加されました.</para>

    <para><filename>libcrypt</filename> が Blowfish
      パスワードハッシュに対応しました.</para>

    <para>&os; コンソールがウクライナ語に対応しました.</para>

    <para>2GB 以上の RAM を搭載したマシンでも
      &man.savecore.8; が正常に動作するようになりました.</para>

    <para>&man.faithd.8; に対応するための &man.inetd.8; 文法が,
      他の BSD と互換性のあるものに変更されました.</para>

    <para>&man.inetd.8; の <literal>ident</literal>
      プロトコル対応が整頓・更新されました.</para>

    <para>&man.inetd.8; が UNIX ドメインソケットに対応しました.</para>

    <para>&os; の &man.resolver.3; 実装が EDNS0 に対応しました.
      これは IPv6 対応の resolver, DNS サーバとの動作に必要となるものです.</para>

    <para>&man.df.1; に新しいオプション <option>-l</option> が追加されました.
      これはローカルにマウントされたファイルシステムの情報のみを表示します.</para>

    <para>&man.whois.1; は, IP アドレスの問い合わせを
      ARIN に送るように変更されました.
      <option>-Q</option> オプションが指定されておらず,
      ARIN への問い合わせが APNIC もしくは RIPE
      参照する場合には, 適切なサーバに再問い合わせが行なわれます.</para>

    <para>&man.dump.8; の <option>-T</option> オプションが,
      後続するオプションを余計に無効化してしまっていた問題が修正されました.</para>

    <para>&man.dump.8; に新しいオプション <option>-D</option> が追加されました.
      これにより <filename>/etc/dumpdates</filename>
      ファイルパスの変更が可能になります.</para>

    <para><filename>libfetch</filename> が
      <envar>HTTP_USER_AGENT</envar> 環境変数に対応しました.</para>

    <para>新しいライブラリ関数 &man.getprogname.3;,
      &man.setprogname.3; が追加されました.
      これらは現在実行されているプログラムのプログラム名を操作するためのもので,
      エラー報告ルーチンで出力に一貫性を持たせるために使用されます.</para>

    <para>&man.xargs.1; に新しいオプション <option>-J</option>
      <replaceable>replstr</replaceable> が追加されました.
      これは標準入力から読み込まれたデータをコマンドライン引数の最後ではなく,
      指定した点に挿入するように制御するためのものです.</para>

    <para>&man.ifconfig.8; コマンドが
      IEEE 802.11 無線ネットワークデバイスのパラメータ設定に対応しました.
      対応しているのは &man.wi.4; および &man.an.4; デバイスです.</para>

    <para>&man.ifconfig.8; コマンドはデフォルトで対応メディアのリストを
      表示しないように変更されました.
      リストの表示は <option>-m</option> オプションを指定時に行なわれます.</para>

    <para>&man.lpd.8; に新しいオプションが二つ追加されました.
      <option>-c</option> オプションフラグは
      すべての接続エラーのログを &man.syslogd.8; に送り,
      <option>-W</option> オプションフラグは予約済みポート以外からの接続を許可します.</para>

    <para>&man.lpc.8; に改良が加えられました.
      <command>lpc clean</command> は多少安全な動作をするように変更され,
      新しく導入された <command>lpc tclean</command> コマンドにより,
      <command>lpc clean</command> コマンドで削除されるファイルをチェックすることができます.</para>

    <para>&man.du.1; に新しいオプション <option>-I</option> が追加されました.
      これは指定されたシェルグロブにマッチするファイル・サブディレクトリを無視するためのものです.</para>

    <para>成長型 FFS ファイルシステム &man.growfs.8; が新たに追加されました.
      また, 既存のファイルシステムのメタ情報をダンプする
      &man.ffsinfo.8; ユーティリティも追加されています.</para>

    <para>&man.mail.1; に新しいオプション <option>-E</option> が追加されました.
      これは本文が空のメッセージを送信しないようにするためのものです.</para>

    <para>&man.vidcontrol.1; に, 指定した tty の履歴バッファをクリアする新しいオプション
      <option>-C</option> が追加されました.
      また <option>-h</option> オプションを使うことで,
      履歴バッファの大きさを設定することが可能です.</para>

    <para>&man.last.1; に <option>-d</option>
      オプションフラグが追加されました.
      これは, ある特定の日時・時刻にログインしていたユーザの
      <quote>スナップショット</quote> を表示します.</para>

    <para>パスワード認証ハッシュライブラリを設定可能にするために
      <filename>libcrypt</filename> と
      <filename>libdescrypt</filename> が統合されました.
      des ハッシュアルゴリズムをコンパイルしない指定を明示的にしていない限り,
      md5 と des の両方のハッシュアルゴリズムが利用可能です.</para>

    <para>&man.install.1; に数多くの新機能が追加されました.
      それには既存の対象ファイルのバックアップを作成する
      <option>-b</option> および <option>-B</option> オプション,
      <quote>安全な</quote> (アトミックなコピー) 操作を行なう
      <option>-S</option> オプションの追加が含まれています.
      標準で <option>-c</option> (コピー) オプションが有効化されるようになり,
      <option>-D</option> (デバッグ) オプションは廃止されました.
      また, &man.install.1; は <option>-d</option> (ディレクトリ作成)
      オプションと <option>-C</option> (変更されたファイルのみコピー)
      オプションが同時に指定された場合に警告を表示するようになっています.</para>

    <para>&os; <filename>Makefile</filename> インフラストラクチャが
      NetBSD に由来する <varname>WARNS</varname> 指示子に対応しました.
      この指示子は <varname>CFLAGS</varname>
      にコンパイラの警告オプションフラグを追加するかどうかを
      比較的コンパイラの種類に依存しない形で制御することを可能にするものです.</para>

    <para>MS-DOS ファイルシステムの一貫性をチェックするユーティリティ
      &man.fsck.msdosfs.8; が新たに追加されました.</para>

    <para>新しいユーティリティ &man.kldconfig.8; が追加されました.
      これにより,
      カーネルモジュールの検索パスの操作を簡単に行なうことができます.</para>

    <para>&man.moused.8; に新しいオプション <option>-a</option> が追加されました.
      これはマウスポインタの加速を制御するためのものです.</para>

    <para>&man.ppp.8; に, 新たに
      <literal>tcpmssfixup</literal> オプションが追加されました.
      これは送信および到着 TCP SYN パケットを調整し,
      最大受信セグメントサイズがインターフェイスの MTU を超えないようにします.</para>

    <para>&man.sysctl.8; が新たに, 変数名のみを表示するためのオプション
      <option>-N</option> に対応しました.</para>
    
    <para>&man.sysctl.8; のオプション
      <option>-A</option> および <option>-X</option>
      はそれぞれ <option>-ao</option> および <option>-ax</option> に置き換えられ,
      従来のオプションは廃止されました.
      また, 動作を指定する <option>-w</option>
      オプションは必要性がないため削除されました.</para>

    <para>&man.cdcontrol.1; が新たに,
      音楽 CD 再生時に指定した数だけ前後のトラックへ移動するためのコマンド,
      <literal>next</literal> および <literal>prev</literal>
      に対応しました.</para>

    <para>&man.col.1; に新しいオプション
      <option>-p</option> が追加されました.
      これは不明なコントロールシーケンスを処理せずに通過させるためのものです.</para>

    <para><envar>TMPDIR</envar> を用いて
      &man.tmpnam.3; における一時ファイルの場所を指定できるようになりました.</para>

    <para>&man.rc.8; は起動時に,
      <filename>/var/run</filename> および
      <filename>/var/spool/lock</filename>
      に含まれるディレクトリでないファイルをすべて削除するようになりました.</para>

    <para>書式指定文字列の一貫性をチェックする関数
      &man.fmtcheck.3; が新たに追加されました.</para>

    <para>&man.apmd.8; に新しい設定指示子
      <literal>apm_battery</literal> が追加され,
      バッテリレベルのモニタリング機能および,
      バッテリ残量のパーセント量や残り時間を基準としたコマンドの実行が可能になりました.
      指定方法は
      <filename>/etc/apmd.conf</filename> にあるコメントアウトされた例をご覧ください.</para>

    <para>&man.pppd.8; (カーネル PPP の制御用プログラム)
      のインストール時の許可属性が <literal>4555</literal> から <literal>4550</literal> に,
      所有者/グループが
      <username>root</username><literal>:</literal><groupname>dialer</groupname>
      に変更されました (つまり, 実行できるユーザが制限されました).
      &man.pppd.8; を利用している場合は, グループ設定を変更する必要があります.</para>

    <para arch="alpha">
      &man.sysinstall.8; においてメニュー選択中に <literal>/: write failed, file 
        system is full</literal> が表示されることがありますが,
      これは &man.sysinstall.8;
      の動作や実際のインストール工程に悪影響はありませんので, 無視してください.</para>

    <para arch="alpha">Alpha マシン上でも
      &man.savecore.8; が正常に動作するようになりました.</para>

    <sect3>
      <title>寄贈ソフトウェア</title>

      <para><application>BIND</application> が
        <literal>NOADDITIONAL</literal> オプションで構築されるようになりました.
        これは良くある設定ミスに対して,
        &man.named.8; により一貫性の高い動作をさせるためのものです.</para>

      <para><application>BIND</application> がバージョン
        8.2.4-REL に更新されました.</para>

      <para><application>Binutils</application> が
        2.11.2 に更新されました.</para>

      <para><application>bzip2</application> バージョン 1.0.1 が import されました.
        これによりベースシステムに &man.bzip2.1; プログラムおよび,
        <filename>libbz2</filename> ライブラリが導入されました.</para>

      <para>The &man.ee.1; <application>Easy Editor</application>
        がバージョン 1.4.2 に更新されました.</para>

      <para>&man.file.1; がバージョン 3.36 に更新されました.</para>

      <para>&man.gcc.1; が
        <envar>GCC_OPTIONS</envar> 環境変数に対応しました.
        この変数には <application>GCC</application>
        のデフォルトオプションを指定します.</para>

      <para><application>GNATS</application> がバージョン
        3.113 に更新されました.</para>
      
      <para><application>groff</application> および関連ユーティリティが更新され,
        FSF バージョン 1.17.2 になりました.
        この import により, 従来あった制限を大幅に緩和した
        &man.mdoc.7; マクロパッケージ
        (<literal>mdocNG</literal> と呼ばれています)
        が追加されています.</para>

      <para><application>libpcap</application> がバージョン
        0.6.2 に更新されました.  </para>

      <para><application>OpenSSL</application> がバージョン
        0.9.6a に更新されました.</para>

      <para><application>sendmail</application> と関連ユーティリティが
        バージョン 8.11.6 に更新されました.
        詳細については
        <filename>/usr/src/contrib/sendmail/RELEASE_NOTES</filename>
        をご覧ください.</para>

      <para>&man.traceroute.8; は,
        デフォルトの最大 TTL 値を
        <varname>net.inet.ip.ttl</varname> sysctl 変数から得るようになりました.</para>

      <para><application>tcpdump</application> がバージョン
        3.6.3 に更新されました.</para>

      <sect4>
        <title>CVSup</title>

        <para><application>CVSup</application> は
          &os; Ports Collection で良く使われるユーティリティの一つです.
          以前はこれをインストールする複数の port/package が存在しましたが,
          <port>net/cvsup-bin</port> および <port>net/cvsupd-bin</port>
          は廃止され, <port>net/cvsup</port> になりました.</para>

        <para>&os; Ports Collection の <port>net/cvsup</port>
          からインストールできる
          <application>CVSup</application> は 16.1_3 に更新されています. 
          この更新では 2001 年 9 月 9 日 01:46:40 UTC
          (UNIX epoch から 1,000,000,000 秒後)
          以降のすべてのファイルのタイムスタンプに影響する,
          長い間存在していた (ただし表面化しなかった)
          バグが修正されました.</para>
      </sect4>

      <sect4 id="kame-userland">
        <title>KAME</title>

        <para>IPv6 スタックが KAME Project の 2001 年 5 月 28 日づけの
          IPv6 スナップショットをベースとしたものになりました.
          この節に書かれている内容のほとんどは, この import によるものです.
          KAME IPv6 スタックに関するカーネルへの変更点は
          <xref linkend="kame-kernel"> にあります.</para>

	<para>&man.faithd.8; がアクセス制御用の設定ファイルに対応しました.</para>

	<para>&man.ifconfig.8; に &man.gifconfig.8; の機能が統合されました.</para>

	<para>&man.ifconfig.8; に &man.prefix.8; の機能が統合されました. 
          後方互換性を確保するため, &man.prefix.8;
          はシェルスクリプトとして残されています.</para>

	<para>&man.ndp.8; に対して, RFC2461
          (Neighbor Discovery for IP Version 6 (IPv6))
          に書かれているような無効になった NDP
          エントリに対するガベージコレクションが実装されました.</para>

        <para>制限されたライセンス条件を持った
          &man.pim6dd.8; および &man.pim6sd.8; が削除されました.
          これらのプログラムは Ports Collection の一部として
          <port>net/pim6dd</port>,
          <port>net/pim6dd</port> から利用可能です.</para>

	<para>&man.route6d.8; に新しいオプション
          <option>-n</option> が追加されました.
          これはカーネルの転送テーブルの更新を抑制するためのものです.</para>

	<para>&man.rtadvd.8; に対する <option>-R</option> (ルータ再ナンバリング)
          オプションは, 現時点では無視されるようになっています.</para>
      </sect4>
    </sect3>

    <sect3>
      <title>Ports/Packages Collection</title>

      <para>&man.pkg.version.1; に新しいオプション
        <option>-s</option> が追加されました.
        これは, 操作対象を指定された文字列とマッチする
        ports/packages に制限するためのものです.</para>
    </sect3>
  </sect2>
</sect1>
