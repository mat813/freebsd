<!--
    FreeBSD Japanese Documentation Project

    $FreeBSD$

    Original revision: 1.22.2.272
-->

<articleinfo>
  <title>&os;/&arch; &release.current; リリースノート</title>

  <pubdate>$FreeBSD$</pubdate>
  
  <corpauthor>FreeBSD プロジェクト</corpauthor>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <holder role="mailto:doc@FreeBSD.org">FreeBSD ドキュメンテーションプロジェクト</holder>
  </copyright>

  <abstract>
    <para>この &os; &release.current; リリースノートには、
      &os; &release.prev; のリリース以降に &os;
      ベースシステムに対して加えられた変更点がまとめられています。
      変更点はカーネル、ユーザランドにおけるものだけでなく、
      前回のリリース以降に発行され、
      ベースシステムに影響のあるセキュリティ勧告も含まれています。
      また、アップグレードの際の注意点についても簡単に説明しています。</para>
  </abstract>
</articleinfo>

<sect1>
  <title>はじめに</title>

  <para>この文書は &arch.print; アーキテクチャ版 &os; &release.current;
    のリリースノートです。
    これには &release.prev; 以降に追加 (変更)
    された新機能および、前のバージョンの &os;
    からアップグレードする場合におけるいくつかの注意点か書かれています。</para>

<![ %release.type.snapshot [

  <para>リリースノートが対象としているこの &release.type; は、
    &release.branch; 開発ブランチの
    &release.prev; と、リリースが予定されている
    &release.next; の中間点に対応します。
    このブランチにおける構築済みのバイナリ &release.type;
    は <ulink url="&release.url;"></ulink> から入手可能です。</para>

]]>

<![ %release.type.release [

  <para>この &os; &release.current は &release.type; 版であり、
    <ulink url="&release.url;"></ulink>
    および各ミラーサイトで公開されています。
    &os; の &release.type; 版 (またはそれ以外) の入手法については
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
      ハンドブック</ulink>の<ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html">
      <quote>&os; を入手するには</quote></ulink>をご覧ください。</para>

]]>
</sect1>

<!--
       The "What's New" section of the release notes.  

       Guidelines for new entries:

       1.  If there is some obvious "keyword" associated with an
       entry (such as a manpage entry or an application name), try to
       put it at the start of the sentence.

       2.  Within each subsection (i.e. kernel, security, userland),
       list items in alphabetical order by these keywords.

       Some entries will have no obvious keywords to help with
       ordering.  In sections containing these entries, put those
       containing (e.g.) manpage references first, then some
       suitable SGML comment line as a demarc, then the remaining
       entries.
-->

<sect1>
  <title>更新情報</title>

  <para>この節では &release.prev; 以降に新たに追加・変更された
    ユーザに影響する機能について説明します。
    リリースノートの項目には通常、新しいドライバや新しいハードウェアへの対応、
    新しいコマンドや新しいオプションの導入、
    大規模なバグ修正、寄贈ソフトウェアのアップグレードが含まれており、
    それに加えて
    &release.prev; 以降に発行され、
    ベースシステムに影響のあるセキュリティ勧告も記載されています。</para>

  <sect2 id="kernel">
    <title>カーネルの変更点</title>

    <para>&man.acct.2; は、アカウンティングファイルを
      追記モードでオープンするように変更されました。
      これは &man.accton.8; のアカウンティング機能を、
      追記専用ファイルに対して使えるようにするための変更です。</para>

    <para><literal>RLIMIT_VMEM</literal> 機能が追加されました。
      これは、あるプロセスに対して、&man.mmap.2; 空間を含む、
      全仮想メモリ空間の大きさに制限を設けるものです。
      制限は &man.login.conf.5; に追加された
      <varname>vmemoryuse</varname> 変数によって設定することができます。</para>

<!-- Above this line, kernel changes ordered by manpage/variable name -->

    <sect3>
      <title>プロセッサ・マザーボードの対応状況</title>

      <para></para>
    </sect3>

    <sect3>
      <title>起動ローダ関連</title>

      <para></para>

<!-- Above this line, order boot loader changes by manpage/variable name-->
      
    </sect3>
    
    <sect3>
      <title>ネットワークインターフェイスの対応状況</title>

      <para arch="i386,pc98">&man.em.4; ドライバが
        Intel 82545EM および 82545EB チップに対応しました。
        VLAN にも対応しています。</para>

      <para arch="i386">&man.rp.4; ドライバがバージョン
        3.02 に更新され、
        モジュールとしてコンパイルできるようになりました。</para>
      
<!-- Above this line, order network driver changes by manpage/variable name-->

    </sect3>

    <sect3>
      <title>ネットワークプロトコル</title>

      <para></para>

    </sect3>

    <sect3>
      <title>ディスク・記憶装置</title>

      <para>&man.ata.4; のタグ付きキューイング機能で
        時々発生していた動作不良が修正されました。</para>

      <para>&man.ata.4; ドライバが最大転送データサイズを正しく計算するようになりました。
        この修正により、特定の ATA デバイスにアクセスした時に数多く生じていた
        <literal>READ_BIG</literal>
        エラーやその他のエラーが発生しなくなっています。</para>
    </sect3>

    <sect3>
      <title>ファイルシステム</title>

      <para></para>

    </sect3>

    <sect3>
      <title>PCCARD 対応状況</title>

      <para></para>

    </sect3>

    <sect3>
      <title>マルチメディアへの対応状況</title>
      
      <para></para>

    </sect3>

    <sect3>
      <title>寄贈ソフトウェア</title>

      <para></para>

  </sect2>

  <sect2 id="security">
    <title>セキュリティ勧告</title>

    <para>悪意を持ったドメインネームサーバや
      DNS メッセージを生成できる攻撃者が悪用可能な、
      リゾルバのバッファオーバフロー問題が修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:28.resolv.asc">FreeBSD-SA-02:28</ulink>
      をご覧ください。</para>

    <para>不正な NFS パケットによって悪用される可能性がある、
      &man.tcpdump.1; のバッファオーバフロー問題が修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:29.tcpdump.asc">FreeBSD-SA-02:29</ulink>
      をご覧ください。</para>

    <para>高い権限を放棄したプロセスに対して、&man.ktrace.1; を使った追跡
      (trace) 操作ができないようになりました。
      これにより、そのプロセスが権限を放棄する前に得たセキュリティ上重要な
      情報の漏洩を防ぐことができます。この問題の詳細は、
      セキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:30.ktrace.asc">FreeBSD-SA-02:30</ulink>
      をご覧ください。</para>

    <para>任意のファイルの許可属性を変更するのに使用可能な、
      &man.pppd.8; にあった競合状態が修正されました。
      詳細はセキュリティ勧告
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:32.pppd.asc">FreeBSD-SA-02:32</ulink> をご覧ください。</para>
  </sect2>

  <sect2 id="userland">
    <title>ユーザランドの変更点</title>

    <para>&man.dump.8; に、単に予想ダンプサイズを表示して終了するという、
      <option>-S</option> フラグが追加されました。</para>

    <para>&man.finger.1; が
      <filename>.pubkey</filename> ファイルに対応しました。</para>

    <para>&man.finger.1; に、GECOS
      情報の表示をユーザのフルネームのみに制限する
      <option>-g</option> フラグが追加されました。</para>

    <para>&man.finger.1; に、リモートの問い合わせに使うアドレスファミリを指定する
      <option>-4</option> フラグと <option>-6</option> フラグが追加されました。</para>

    <para>&man.fold.1; に、指定バイト位置で改行する
      <option>-b</option> オプションと、
      単語境界で改行する <option>-s</option> オプションが追加されました。</para>

    <para>&man.ifconfig.8; に、IPv6 アドレスの下位 64
      ビットを自動的に設定する <option>eui64</option>
      コマンドが追加されました。この変更にともない、
      &man.prefix.8; は廃止されました。</para>

    <para>&man.ls.1; プログラムに、
      リストを一行で表示する <option>-m</option> フラグ、
      ディレクトリ名の後ろに <literal>/</literal> を付加する
      <option>-p</option> フラグ、ファイル名を行方向にソートして表示する
      <option>-x</option> フラグが追加されました。</para>

    <para>&man.nice.1; に、実行するユーティリティの <quote>nice
        値</quote>を指定する <option>-n</option>
      オプションが追加されました。</para>

    <para><varname>no_fake_prompts</varname> が設定されている場合、
      &man.pam.opie.8; は偽のチャレンジを送出しなくなりました。</para>

    <para>&man.pam.opieaccess.8; モジュールが追加されました。</para>

    <para>&man.pam.unix.8; が、2002 年 3 月 9 日時点の
      &os; -CURRENT (<application>OpenPAM</application>
      に変更される前) と同期しました。</para>

    <para>&man.pwd.1; に、論理カレントディレクトリを表示する
      <option>-L</option> フラグが追加されました。</para>

    <para>&man.renice.8; コマンドに、プロセスの優先度に対する増分を指定する
      <option>-n</option> オプションが追加されました。</para>

    <para>&man.sed.1; に、指定ファイルそのものを編集する
      <option>-i</option> オプションが追加されました。</para>
    
    <para>&man.sh.1; に、出力のリダイレクトで
      既存の通常ファイルを上書きする操作を禁止する
      <option>-C</option> オプションと、
      未定義の変数を展開しようとした時にエラーを発生させる
      <option>-u</option> オプションが追加されました。</para>

    <para>&man.sh.1; 内蔵の <command>cd</command> コマンドに、
      論理モードと物理モードを指定する
      <option>-L</option> フラグと <option>-P</option>
      フラグがそれぞれ追加されました。
      デフォルトは論理モードです。このデフォルトは、
      <varname>physical</varname> という &man.sh.1; オプションで
      変更できます。</para>

    <para>&man.sh.1; 内蔵の <command>jobs</command> コマンドに、
      PID のみを表示する <option>-s</option> フラグと、
      出力に PID を含める <option>-l</option> フラグが追加されました。</para>

    <para>&man.sh.1; 内蔵の <command>export</command> および
      <command>readonly</command> コマンドに、
      <quote>portable</quote> フォーマットで出力する
      <option>-p</option> フラグが追加されました。</para>

    <para>&man.split.1; に、分割ファイルの接尾子に使用する文字数を指定する
      <option>-a</option> オプションが追加されました。</para>

    <para>&man.su.1; が、Kerberos V 認証に対応しました。</para>

    <para>&man.tr.1; が、一部の等価クラス (equivalence class, 対応しているロケールのみ)
      に対応しました。</para>

    <!-- 2002/07/27:hrs - tabstabs? -->
    <para>&man.unexpand.1; に、&man.expand.1; と同様のタブ位置を指定する
      <option>-t</option> オプションが追加されました。</para>

    <para>&man.who.1; に数多くのオプションが追加されました。
      <option>-H</option> はカラムヘッダを出力し、
      <option>-T</option> は &man.mesg.1; の設定を表示します。
      また、<option>-m</option> は <option>am i</option> と等価であり、
      <option>-u</option> はアイドル時間の表示、
      <option>-q</option> はログイン名を列で表示します。</para>

    <para>&man.xargs.1; に、標準入力からのデータの挿入を
      コマンドラインの最後ではなく、指定できるようにするための
      <option>-I</option> <replaceable>replstr</replaceable>
      オプションが追加されました (同様の機能を実現する
      <option>-J</option> オプションがありますが、
      これに対応しているのは &os; のみであるため、より互換性の高い
      <option>-I</option> オプションの使用が推奨されています)。</para>

    <para>&man.xargs.1; に、入力を指定行数ごとに区切り、
      それを引数にして入力がなくなるまで複数回コマンドを呼び出すという
      <option>-L</option> オプションが追加されました。</para>

<!-- Above this line, order userland changes by manpage/variable name-->

    <sect3>
      <title>寄贈ソフトウェア</title>

      <para><application>BIND</application> が
        8.3.3 に更新されました。</para>

      <para><application>gcc</application> がバージョン
        2.95.4 に更新されました。</para>

      <para><application>libpcap</application> がバージョン
        0.7.1 に更新されました。</para>

      <para>NetBSD の FTP デーモン、<application>lukemftpd</application> の
        バージョン 1.2 beta 1 が統合され、
        &man.lukemftpd.8; として利用できるようになりました。</para>

      <para>OpenBSD より、2002 年 4 月 26 日時点の &man.m4.1;
        が統合されました。</para>

      <para><application>OPIE</application> one-time-password
        スイートがバージョン 2.4 に更新されました。</para>

      <para><application>OpenSSH</application> が
        バージョン 3.4p1 に更新されました。主な変更点は次のとおりです。

         <itemizedlist>
          <listitem>
            <para><filename>*2</filename>
              という名前のファイルが廃止されました
              (たとえば
              以前
              <filename>~/.ssh/known_hosts2</filename>
              に書かれていた内容は
              <filename>~/.ssh/known_hosts</filename>
              に書かれるようになっています)。</para>
           </listitem>

           <listitem>
             <para>&man.ssh-keygen.1; は、
              SECSH Public Key File Format を使って、
              商用の SSH 実装と暗号鍵を交換することができるようになりました。</para>
           </listitem>

           <listitem>
             <para>&man.ssh-add.1; は、3
              種類のデフォルト暗号鍵すべてを追加するようになりました。</para>
           </listitem>

           <listitem>
             <para>&man.ssh-keygen.1; において、
              暗号鍵タイプのデフォルトがなくなりました。
              特定のタイプを、<option>-t</option>
              オプションで指定する必要があります。</para>
           </listitem>

           <listitem>
             <para>プログラムのバグや将来的に発見される可能性のある
              セキュリティ上の弱点の影響を小さくするために、
              特権を持たないプロセスを使うという
              <quote>特権分離 (privilege separation)</quote> 機能
              が追加されました。</para>
           </listitem>

           <listitem>
             <para>整数変数のオーバフローによって権限の不正な獲得が可能になるという
              セキュリティホールなど、いくつかのバグが修正されました。</para>
           </listitem>

           <listitem>
            <para>SSH プロトコルのデフォルトは、
              バージョン 1 (使えない場合はバージョン 2 にフォールバック)
              ではなく、
              バージョン 2 (使えない場合はバージョン 1 にフォールバック)
              になっています。</para>
          </listitem>
        </itemizedlist>
      </para>

      <para><application>OpenSSL</application> がバージョン
	0.9.6e に更新されました。</para>

      <para><application>sendmail</application> がバージョン
        8.12.3 からバージョン 8.12.5 に更新されました。</para>

      <para><application>GNU tar</application> がバージョン
        1.13.25 に更新されました。</para>

      <para><application>tcpdump</application> がバージョン
        3.7.1 に更新されました。</para>
    </sect3>
    
    <sect3>
      <title>Ports/Packages Collection</title>

      <para></para>
      
    </sect3>
  </sect2>

  <sect2>
    <title>リリースエンジニアリングと統合</title>

    <para>新規インストール時に
      <filename>/usr/share/examples</filename>
      が展開されないというバグが修正されました。</para>
  </sect2>
</sect1>

<sect1>
  <title>以前の &os; リリース版からのアップグレード</title>

  <para>以前の &os; リリース版からのアップグレードを行なうには、
    主に次の 3 つの方法があります。</para>

  <itemizedlist>
    <listitem>
      <para>&man.sysinstall.8; のバイナリアップグレード機能を使う方法。
        おそらくこの方法が最も時間のかからない方法なのですが、
        これは &os; のインストール時に
        特別なコンパイルオプションを指定していないことを前提としています。</para>
    </listitem>
    
    <listitem>
      <para>&os; を完全に再インストールする方法。
        技術的にはアップグレード手段の一つとは言えませんし、
        <filename>/etc</filename>
        の内容を手動で退避・復元したりする必要があるなど、
        大抵の場合はバイナリアップグレード機能を使うより手間がかかります。
        しかし、ディスクのパーティション分割を変更したい (とか、
        変更しなければならない) 場合などには便利な方法でしょう。</para>
    </listitem>
    
    <listitem>
      <para><filename>/usr/src</filename> のソースコードから構築する方法。
        この手段は非常に柔軟な対応が可能ですが、
        ディスク空間と時間、そして専門的なノウハウを必要とします。
        詳細については
        <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
          ハンドブック</ulink>の
        <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/makeworld.html"><quote><command>make world</command> を利用する</quote></ulink> という章をご覧ください。
        また、非常に古いバージョンの &os;
        からのアップグレードは問題が発生することが多いため、
        そのような場合にはバイナリアップグレード、
        もしくは完全な再インストールを行なった方が効果的でしょう。</para>
    </listitem>
  </itemizedlist>
  
  <para>なるべくアップグレードを始める前に詳細について
    <filename>INSTALL.TXT</filename> をご覧ください。
    ソースからアップグレードする場合は
    <filename>/usr/src/UPDATING</filename> にも目を通す必要があります。</para>

  <para>最後になりますが、&os; の -STABLE もしくは -CURRENT
    ブランチを追いかけるために用意された手段の一つをとりたいと考えているなら、
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
      ハンドブック</ulink>の
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/current-stable.html"><quote>-CURRENT
        vs. -STABLE</quote></ulink> の節をご覧になるようお願いします。</para>

  <important>
    <para>もちろん言うまでもないことですが、
      &os; のアップグレードは、データと設定ファイルを
      <emphasis>すべて</emphasis> バックアップした後に行なうべきです。</para>
  </important>
</sect1>
