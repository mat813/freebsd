<!--
	FreeBSD errata document.  Unlike some of the other RELNOTESng
	files, this file should remain as a single SGML file, so that
	the dollar FreeBSD dollar header has a meaningful modification
	time.  This file is all but useless without a datestamp on it,
	so we'll take some extra care to make sure it has one.

	(If we didn't do this, then the file with the datestamp might
	not be the one that received the last change in the document.)

-->

<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % articles.ent PUBLIC "-//FreeBSD//ENTITIES DocBook FreeBSD Articles Entity Set//EN">
%articles.ent;

<!ENTITY % release PUBLIC "-//FreeBSD//ENTITIES Release Specification//EN">
%release;
<!ENTITY release.bugfix "6.0-RELEASE">
]>

<article>
  <articleinfo>
    <title>&os; &release.bugfix; Errata</title>

    <corpauthor>
    The &os; Project
    </corpauthor>

    <pubdate>$FreeBSD$</pubdate>

    <copyright>
      <year>2000</year>
      <year>2001</year>
      <year>2002</year>
      <year>2003</year>
      <year>2004</year>
      <year>2005</year>
      <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
    </copyright>

    <legalnotice id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.intel;
      &tm-attrib.sparc;
      &tm-attrib.general;
    </legalnotice>
  </articleinfo>

  <abstract>
    <para>This document lists errata items for &os; &release.bugfix;,
      containing significant information discovered after the release
      or too late in the release cycle to be otherwise included in the
      release documentation.
      This information includes security advisories, as well as news
      relating to the software or documentation that could affect its
      operation or usability.  An up-to-date version of this document
      should always be consulted before installing this version of
      &os;.</para>

    <para>This errata document for &os; &release.bugfix;
      will be maintained until the release of &os; &release.next;.</para>
  </abstract>

  <sect1 id="intro">
    <title>Introduction</title>

    <para>This errata document contains <quote>late-breaking news</quote>
      about &os; &release.bugfix;.
      Before installing this version, it is important to consult this
      document to learn about any post-release discoveries or problems
      that may already have been found and fixed.</para>

    <para>Any version of this errata document actually distributed
      with the release (for example, on a CDROM distribution) will be
      out of date by definition, but other copies are kept updated on
      the Internet and should be consulted as the <quote>current
      errata</quote> for this release.  These other copies of the
      errata are located at <ulink
      url="http://www.FreeBSD.org/releases/"></ulink>, plus any sites
      which keep up-to-date mirrors of this location.</para>

    <para>Source and binary snapshots of &os; &release.branch; also
      contain up-to-date copies of this document (as of the time of
      the snapshot).</para>

    <para>For a list of all &os; CERT security advisories, see <ulink
      url="http://www.FreeBSD.org/security/"></ulink> or <ulink
      url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/"></ulink>.</para>

  </sect1>

  <sect1 id="late-news">
    <title>Update Information</title>

    <para>No news.</para>
  </sect1>

  <sect1 id="security">
    <title>Security Advisories</title>

    <para>No advisories.</para>
  </sect1>

  <sect1 id="known-problems">
    <title>Known Problems and Solutions</title>

    <para>(2005/11/5)
      Distribution of 6.0-RELEASE contains <filename>CHECKSUM.MD5</filename>
      and <filename>CHECKSUM.SHA256</filename> files for protecting
      the integrity of data.  However, these files in 6.0-RELEASE erroneously
      include checksums for the checksum files themselves.
      Although the checksums look like wrong, they can be safely ignored
      because a checksum for the checksum file never corresponds
      to one in the file.  This problem will be fixed in the next
      releases.</para>

    <para>(2005/11/5, &os;/amd64 specific)
      The &man.pmcstat.8; utility cannot yet handle 32-bit
      executables when converting &man.hwpmc.4; log
      files to &man.gprof.1; format.</para>

    <para>(2005/11/5, &os;/powerpc specific)
      The following panic may occur at boot-time on some older
      PowerMac G4 systems:</para>

<screen>...
KDB: current backend: ddb
panic: Assertion curthread != NULL failed at
/usr/src/sys/kern/kern_mutex.c:268
KDB: enter panic</screen>

    <para>This is a known problem with no workaround, and will be fixed in the
      next release.</para>

    <para>(2005/11/5)
      Changes of on-disk format of <filename>/usr/share/locale/*/LC_*</filename>
      files in 6.0-RELEASE prevent third-party software which uses
      &man.setlocale.3; for its localization from working after
      a 5.x system upgraded.  The software includes ones installed
      into the 5.x system by using &os; Ports Collection and so on.
      To solve this problem, perform one of the following:</para>

    <itemizedlist>
      <listitem>
	<para>Install misc/compat5x package into the upgraded 6.0 system.
	  This package installs a library <filename>lib/compat/libc.so.5</filename>
	  which makes the software complied in a 5.x system use
	  the old locale files to keep compatibility.
	  Note that you need to remove <filename>/lib/libc.so.5</filename>
	  after upgrading.</para>

	<para>This package is available only for Tier-1 platforms.</para>
      </listitem>

      <listitem>
	<para>Recompile the software on the 6.0 system.</para>
      </listitem>
    </itemizedlist>

    <para>(2005/10/3)
      At boot time the &os;/sparc64 GENERIC kernel may
      output the following messages when the machine has
      no framebuffer:</para>

    <screen>Aug 26 19:31:27 hostname getty[429]: open /dev/ttyv1: No such file or directory</screen>

    <para>This is because the machine with no supported
      graphics hardware does not recognize &man.syscons.4; and
      <filename>/dev/ttyv*</filename> device nodes are not created.
      This is not a harmful error and can be suppressed by disabling
      <filename>/dev/ttyv*</filename> entries in
      <filename>/etc/ttys</filename>.</para>

    <para>(2005/10/3)
      Kernel modules do not work on &os;/sparc64
      when the machine has more than 4GB memory.  There is no workaround
      for this issue except for compiling the modules statically into
      your custom kernel in advance.</para>

    <para>(2005/10/3)
      The &man.kgdb.1; utility does not work properly
      on &os;/sparc64 for debugging panics which include traps.
      As a workaround you can use <filename>devel/gdb53</filename>.</para>
  </sect1>

</article>
