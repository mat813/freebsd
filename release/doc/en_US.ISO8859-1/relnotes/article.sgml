<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % articles.ent PUBLIC "-//FreeBSD//ENTITIES DocBook FreeBSD Articles Entity Set//EN">
%articles.ent;

<!ENTITY % release PUBLIC "-//FreeBSD//ENTITIES Release Specification//EN">
%release;
]>

<article>
  <articleinfo>
    <title>&os; &release.current; Release Notes</title>

    <corpauthor>The &os; Project</corpauthor>

    <pubdate>$FreeBSD$</pubdate>

    <copyright>
      <year>2011</year>
      <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
    </copyright>

    <legalnotice id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.ibm;
      &tm-attrib.ieee;
      &tm-attrib.intel;
      &tm-attrib.sparc;
      &tm-attrib.general;
    </legalnotice>

    <abstract>
      <para>The release notes for &os; &release.current; contain a summary
	of the changes made to the &os; base system on the
	&release.branch; development line.
	This document lists applicable security advisories that were issued since
	the last release, as well as significant changes to the &os;
	kernel and userland.
	Some brief remarks on upgrading are also presented.</para>
    </abstract>
  </articleinfo>

  <sect1 id="intro">
    <title>Introduction</title>

    <para>This document contains the release notes for &os;
      &release.current;.  It
      describes recently added, changed, or deleted features of &os;.
      It also provides some notes on upgrading
      from previous versions of &os;.</para>

<![ %release.type.current [

    <para>The &release.type; distribution to which these release notes
      apply represents the latest point along the &release.branch; development
      branch since &release.branch; was created.  Information regarding pre-built, binary
      &release.type; distributions along this branch
      can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.snapshot [

    <para>The &release.type; distribution to which these release notes
      apply represents a point along the &release.branch; development
      branch between &release.prev; and the future &release.next;.
      Information regarding
      pre-built, binary &release.type; distributions along this branch
      can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

    <para>This distribution of &os; &release.current; is a
      &release.type; distribution.  It can be found at <ulink
      url="&release.url;"></ulink> or any of its mirrors.  More
      information on obtaining this (or other) &release.type;
      distributions of &os; can be found in the <ulink
      url="&url.books.handbook;/mirrors.html"><quote>Obtaining
      &os;</quote> appendix</ulink> to the <ulink
      url="&url.books.handbook;/">&os; Handbook</ulink>.</para>

]]>

    <para>All users are encouraged to consult the release errata before
      installing &os;.  The errata document is updated with
      <quote>late-breaking</quote> information discovered late in the
      release cycle or after the release.  Typically, it contains
      information on known bugs, security advisories, and corrections to
      documentation.  An up-to-date copy of the errata for &os;
      &release.current; can be found on the &os; Web site.</para>
  </sect1>

  <sect1 id="new">
    <title>What's New</title>

    <para>This section describes the most user-visible new or changed
      features in &os; since &release.prev;.</para>

    <para>Typical release note items document recent security
      advisories issued after &release.prev;, new drivers or hardware
      support, new commands or options, major bug fixes, or
      contributed software upgrades.  They may also list changes to
      major ports/packages or release engineering practices.  Clearly
      the release notes cannot list every single change made to &os;
      between releases; this document focuses primarily on security
      advisories, user-visible changes, and major architectural
      improvements.</para>

    <sect2 id="security">
      <title>Security Advisories</title>

      <para>Problems described in the following security advisories have
	been fixed.  For more information, consult the individual
	advisories available from
	<ulink url="http://security.FreeBSD.org/"></ulink>.</para>

      <informaltable frame="none" pgwide="1">
	<tgroup cols="3">
	  <colspec colwidth="1*">
	  <colspec colwidth="1*">
	  <colspec colwidth="3*">
	    <thead>
	      <row>
		<entry>Advisory</entry>
		<entry>Date</entry>
		<entry>Topic</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:08.bzip2.asc"
			      >SA-10:08.bzip2</ulink></entry>
		<entry>20&nbsp;September&nbsp;2010</entry>
		<entry><para>Integer overflow in bzip2 decompression</para></entry>
	      </row>
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:09.pseudofs.asc"
			      >SA-10:09.pseudofs</ulink></entry>
		<entry>10&nbsp;October&nbsp;2010</entry>
		<entry><para>Spurious mutex unlock</para></entry>
	      </row>
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:10.openssl.asc"
			      >SA-10:10.openssl</ulink></entry>
		<entry>29&nbsp;November&nbsp;2010</entry>
		<entry><para>OpenSSL multiple vulnerabilities</para></entry>
	      </row>
	    </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 id="kernel">
      <title>Kernel Changes</title>

      <para arch="sparc64">&os;/sparc64 now supports reservation-based
	physical memory allocation which provides better
	performance.</para>

      <para arch="sparc64">&os;/sparc64 now supports UltraSPARC IV, IV+, and
	SPARC64 V CPUs.</para>

      <para>The &man.alq.9; support has been improved.  The
	<function>alq_writen()</function> and
	<function>alq_getn()</function> KPIs have been extended to
	support variable length messages, which is enabled at ALQ
	creation time depending on the arguments passed to
	<function>alq_open()</function>.  Also, the
	<literal>ALQ_NOACTIVATE</literal> and
	<literal>ALQ_ORDERED</literal> flags have been added to allow
	ALQ consumers to have more control over I/O scheduling and
	resource acquisition respectively.  These extensions are fully
	backward compatible.</para>

      <para>The &man.alq.9; support is now provided as a kernel module
	<filename>alq.ko</filename>.</para>

      <para>The &os; &man.memguard.9; framework has been improved to
	make it able to detect use-after-free of allocated memories
	over a longer time.  For more details, see &man.memguard.9;
	manual page.</para>

      <para revision="213554,213556,213560">The following
	&man.sysctl.8; variables have been added:
	<varname>vm.kmem_map_size</varname> for the current kmem map
	size and <varname>vm.kmem_map_free</varname> for largest
	contiguous free range in kmem map.</para>

      <sect3 id="proc">
	<title>Hardware Support</title>

      	<para arch="amd64,i386">The &man.ichwd.4; driver now supports
          Intel NM10 Express chipset watchdog timer.</para>

	<para arch="amd64,i386">The qpi(4) pseudo bus driver has been
	  added.  This supports extra PCI buses on Intel QPI chipsets
	  where various hardware such as memory controllers for each
	  socket is connected.</para>

	<sect4 id="mm">
	  <title>Multimedia Support</title>

	  <para>The &man.acpi.video.4; driver has been updated.  LCD
	    brightness control notify handler has been
	    implemented.</para>

          <para>The &man.acpi.sony.4; helper driver now supports
	    default display brightness, wired LAN power, and bass
	    gain.</para>
	</sect4>

	<sect4 id="net-if">
	  <title>Network Interface Support</title>

	  <para>The &man.alc.4; driver now supports Atheros
	    AR8151/AR8152 PCIe Gigabit/Fast Ethernet
	    controllers.</para>

	  <para>The TX interrupt moderation timer in
	    the &man.alc.4; driver has been reduced from 50ms to 1ms.
	    The 50ms timer resulted in a poor UDP performance.</para>

	  <para>The &man.bge.4; driver now supports
	    BCM5718 x2 PCI Express dual-port gigabit Ethernet
	    controller family.  This family is the successor to the
	    BCM5714/BCM5715 family and supports IPv4/IPv6 checksum
	    offloading, TSO, VLAN hardware tagging, jumbo frames,
	    MSI/MSIX, IOV, RSS and TSS.  The current version of the
	    driver supports all hardware features except IOV and
	    RSS/TSS.</para>

	  <para>The &man.bge.4; driver now supports hardware MAC
	    statistics in controller's internal memory for BCM5705 or
	    newer Broadcom controllers.  These counters can be
	    accessed via &man.sysctl.8; variable
	    <varname>dev.bge.<replaceable>N</replaceable>.stats.*</varname>
	    and provide useful information to diagnose driver
	    issues.</para>

          <para>A long-standing bug of ASF heartbeat sending in the
	    &man.bge.4; driver has been fixed.</para>

	  <para>UDP checksum offloading in the
	    &man.bge.4; driver has been disabled by default.  This is
	    because Broadcom controllers have a bug which can generate
	    UDP datagrams with checksum value <literal>0</literal>
	    when TX UDP checksum offloading is enabled.  The checksum
	    offloading can be enabled by using the following loader
	    tunable:</para>

	  <programlisting>dev.bge.<replaceable>N</replaceable>.forced_udpcsum</programlisting>

	  <para>A bug in the &man.bge.4; driver which prevented TSO
            from working in BCM57780 has been fixed.</para>

	  <para>A bug in the &man.bge.4; driver that
	    could lead to poor performance on a system with more than
	    4 GB RAM has been fixed.  The cause was that all of
	    Broadcom controllers except the BCM5755 and later have a
	    bug in 4 GB-boundary DMA processing and used the bounce
	    buffer in an inefficient way.</para>

          <para>The &man.cxgb.4; driver now supports hardware
	    filtering based on inspection of L2/L3/L4 headers.
	    Filtering based on source IP address, destination IP
	    address, source port number, destination port number,
	    802.1q VLAN frame tag, UDP, TCP, and MAC address is
	    possible.  The configuration can be done by the
	    cxgbtool(8) utility.  Note that cxgbtool(8) is in
	    <filename>src/usr.sbin/cxgbtool</filename> but not
	    compiled by default.</para>

          <para>The &man.em.4; driver has been updated to version
	    7.1.9.</para>

	  <para>The &man.em.4; and &man.igb.4; drivers now provide
	    statistics counters as &man.sysctl.8; MIB objects.</para>

	  <para>The &man.fxp.4; driver now exports the hardware MAC
	    statistics via &man.sysctl.8; variables.</para>

	  <para>The &man.fxp.4; driver now supports
	    TSO over VLAN on i82550 and i82551 controllers.</para>

          <para>The &man.igb.4; driver has been updated to version
	    2.0.7.</para>

	  <para>The &man.miibus.4; has been rewritten for the generic
	    IEEE 802.3 annex 31B full duplex flow control support.
	    The &man.alc.4;, &man.bge.4;, &man.bce.4;, &man.cas.4;,
	    &man.fxp.4;, &man.gem.4;, &man.jme.4;, &man.msk.4;,
	    &man.nfe.4;, &man.re.4;, &man.stge.4;, and &man.xl.4;
	    drivers along with atphy(4), bmtphy(4), brgphy(4),
	    e1000phy(4), gentbi(4), inphy(4), ip1000phy(4), jmphy(4),
	    nsgphy(4), nsphyter(4), and &man.rgephy.4; have been
	    updated to support flow control via this facility.</para>

          <para>The &man.msk.4; driver has been improved:</para>

	  <itemizedlist>
 	    <listitem>
	      <para>It now supports 88E8059 (Marvell Yukon Optima) devices.</para>
	    </listitem>

	    <listitem>
	      <para>A rudimentary interrupt moderation with
		programmable countdown timer register has been
		implemented.  The default parameter of the holdoff
		time is 100us and this can be changed via sysctl
		variable
		<varname>dev.mskc.<replaceable>0</replaceable>.int_holdoff</varname>.
		Note that the interrupt moderation is shared resource
		on a dual-port controllers and it is impossible to use
		separate interrupt moderation values for each
		port.</para>
	    </listitem>
	  </itemizedlist>

	  <para>A bug in the &man.mxge.4; driver that prevented TSO
	    from working has been fixed.</para>

	  <para>The &man.nfe.4; driver now supports WoL (Wake on
	    LAN).</para>

          <para>The &man.re.4; driver now uses <literal>2048</literal>
	    as PCIe Maximum Read Request Size.  This improves bulk
	    transfer performance.</para>

	  <para>The &man.re.4; driver now supports 64-bit DMA
	    addressing for RTL810xE/RTL8168/RTL8111 PCIe
	    controllers.</para>

	  <para>The &man.re.4; driver now supports hardware interrupt
	    moderation of TX completion interrupts on RTL8169/RTL8168
	    controllers.</parabolist>

	  <para>The &man.rl.4; driver now supports WoL (Wake on LAN)
            on RTL8139B or newer controllers.</para>

	  <para>The &man.rl.4; driver now supports a device hint to
	    change a way of register access.  Although some newer
	    RTL8139 controllers support memory-mapped register access,
	    it is difficult to detect the support automatically.  For
	    this reason the driver uses I/O mapping by default and
	    provides the following device hint.  If it is set to
	    <literal>0</literal>, the driver uses memory mapping for
	    register access.</para>

	  <programlisting>hint.rl.<replaceable>N</replaceable>.prefer_iomap="0"</programlisting>

	  <para>Note that the default value is <literal>1</literal>.</para>

	  <para>The &man.rl.4; driver has improved interrupt handling.
	    It now has better TX performance under high RX
	    load.</para>

	  <para>The &man.sk.4; driver now disables TX checksum
            offloading by default.  This is because some revisions of
            the Yukon controller generate corrupted frames.  The
            checksum offloading can be enabled manually by using
            <option>txcsum</option> option in the &man.ifconfig.8;
            utility.</para>

	  <para>A bug in the &man.sk.4; driver has been fixed.  It did
	    not program the station address for Yukon controllers and
	    overriding the station address with &man.ifconfig.8; was
	    not possible.</para>

          <para>The &man.sge.4; driver for Silicon Integrated Systems
	    SiS190/191 Fast/Gigabit Ethernet has been added.  This
	    supports TSO and TSO over VLAN.</para>

	  <para>The &man.sis.4; driver now supports WoL (Wake on LAN)
	    on NS DP8315 controller.</para>

	  <para>A tunable
	    <varname>dev.sis.<replaceable>N</replaceable>.manual_pad</varname>
	    for the &man.sis.4; driver has been added.  This controls
	    whether padding with 0x00 for short frames is done by CPU,
	    rather than the controller.  The reason why this tunable
	    has been added is that NS DP83815/DP83816 pads them with
	    0xff though RFC 1042 specifies it should be 0x00.  The
	    tunable is disabled by default, which means padding with
	    0xff is used because padding with 0x00 by software needs
	    extra CPU cycles.  Enabling <varname>manual_pad</varname>,
	    by setting this &man.sysctl.8; variable to a non-zero
	    value, forces the use of software padding.</para>

         <para>The &man.ste.4; driver now supports a device hint to
            change the device register access mode.  The driver uses
            memory-mapped register access by default, but this caused
            stability problems with some old IC Plus Corp (formerly
            Sundace) controllers.  The following device hint makes the
            driver use I/O mapping for register access:</para>

          <programlisting>hint.ste.<replaceable>N</replaceable>.prefer_iomap="1"</programlisting>

	  <para>The &man.xl.4; driver now supports WoL (Wake on LAN).
	    Note that not all controllers support this functionality
	    and some need an additional remote wakeup cable.</para>
	</sect4>
      </sect3>

      <sect3 id="net-proto">
	<title>Network Protocols</title>

        <para>An issue in the &man.carp.4; pseudo interface and
          linkstate changes of the underlying interfaces has been
          fixed.  This happened when a &man.carp.4; interface was
          created before the underlying interface and its linkstate
          became <literal>UP</literal>.</para>

	<para>A new loader tunable
	  <varname>net.link.ifqmaxlen</varname> has been added.  It
	  specifies the default value of send interface queue length.
	  The default value for this parameter is
	  <varname>50</varname>.</para>

	<para>The &os; NFS subsystem now supports a timeout for the
	  negative name cache entries in the client.  This avoids a
	  bogus negative name cache entry from persisting forever when
	  another client creates an entry with the same name within
	  the same NFS server time of day clock tick.  A system-wide
	  &man.sysctl.8; sysctl variable
	  <varname>vfs.nfs.negative_name_timeout</varname> can be used
	  to adjust the timeout.  Setting this variable to
	  <literal>0</literal> disables negative name caching.</para>

	<para>A new &man.netgraph.4; node &man.ng.patch.4; has been
          added.  This performs data modification of packets passing
          through.  Modifications are restricted to a subset of C
          language operations on unsigned integers of 8, 16, 32 or
          64-bit size.</para>

	<para>The TCP initial window increase in RFC 3390 which can be
          controlled by a &man.sysctl.8; variable
          <varname>net.inet.tcp.rfc3390</varname> now reduces the
          congestion window to the restart window if a TCP connection
          has been idle for one retransmit timeout or more.  For more
          details, see RFC 5681 Section 4.1.</para>

	<para>A bug in &os; TCP Path MTU discovery which could lead to
          a wrong calculation for an MTU smaller than 256 octets has
          been fixed.  Note that this bug did not affect MTUs equal to
          or larger than 256 octets.</para>

	<para>The &man.siftr.4;, Statistical
	  Information For TCP Research (SIFTR) kernel module has been
	  added.  This is a facility that logs a range of statistics
	  on active TCP connections to a log file.  It provides the
	  ability to make highly granular measurements of TCP
	  connection state, aimed at system administrators, developers
	  and researchers.</para>

	<para>The &os; TCP reassembly implementation has been
	  improved.  A long-standing accounting bug affecting SMP
	  systems has been fixed and the
	  <varname>net.inet.tcp.reass.maxqlen</varname> &man.sysctl.8;
	  variable has been retired in favor of a per-connection
	  dynamic limit based on the receive socket buffer size.  &os;
	  receivers now handle packet loss (particularly losses caused
	  by queue overflows) significantly better than before which
	  improves connection throughput.</para>

	<para>The &man.tun.4; pseudo interface driver now supports
	  explicit UP/DOWN linkstate.</para>

        <para>The &man.vlan.4; pseudo interface now supports TSO (TCP
	  Segmentation Offloading).  The capability flag is named as
	  <varname>IFCAP_VLAN_HWTSO</varname> and it is separated from
	  <varname>IFCAP_VLAN_HWTAGGING</varname>.  The &man.age.4;,
	  &man.alc.4;, &man.ale.4;, &man.bce.4;, &man.bge.4;,
	  &man.cxgb.4;, &man.jme.4;, &man.re.4;, and &man.mxge.4;
	  driver support this feature.</para>
      </sect3>

      <sect3 id="disks">
	<title>Disks and Storage</title>

	<para>The &man.arcmsr.4; driver has been updated to version
          1.20.00.19.</para>

	<para>The &man.ata.4; driver now supports
	  <literal>spindown</literal> facility of ATA disks.  The
	  &man.atacontrol.8; utility has a new subcommand
	  <command>spindown</command> to support this from
	  userland.</para>

	<para>The &man.gconcat.8; GEOM class now supports kernel crash
	  dump.  The dumping is performed to the component where a
	  dump partition begins.</para>

	<para>The &man.gmultipath.8; utility now supports
	  <command>destroy</command>, <command>rotate</command>,
	  <command>getactive</command> commands.</para>

	<para>The &man.ispfw.4;, the firmware for &man.isp.4; driver
	  has been added.</para>

        <para>The &man.twa.4; driver has been updated.  The version
          number is 3.70.05.010.</para>
      </sect3>

      <sect3 id="fs">
	<title>File Systems</title>

	<para>The inode number handling in &man.ffs.7; file system is
	  now unsigned.  Previously some large inode numbers can be
	  treated as negative, and this issue shows up at file systems
	  with the size of more than 16Tb in 16k block case.  The
	  &man.newfs.8; utility never create a file system with more
	  than 2^32 inodes by cutting back on the number of inodes per
	  cylinder group if necessary to stay under the limit.</para>

	<para>A possible deadlock of <command>zfs receive</command>
		has been fixed.</para>
      </sect3>
    </sect2>

    <sect2 id="userland">
      <title>Userland Changes</title>

      <para>The &man.arp.8; utility has been improved.  It now runs
        faster even when a single interface has a number of
        aliases.</para>

      <para>A bug in the &man.b64decode.1; utility that prevented an
	<option>-r</option> option from handling arbitrary breaks in a
	base64 encoded string has been fixed.</para>

      <para>The &man.chgrp.1; and &man.chown.8; now support a
	<option>-x</option> flag to make it not traverse across
	multiple mount points for the recursive operation.</para>

      <para>The &man.cp.1; now supports a <option>-x</option> flag to
	make it not traverse across multiple mount points for the
	recursive operation.</para>

      <para>The &man.dhclient.8; utility now reports a reason for
        exiting and the 10-second period in which the &man.dhclient.8;
        ignores routing messages has been changed to start just after
        <filename>dhclient-script</filename> starts instead of just
        after it finished.  This change fixes a symptom that
        &man.dhclient.8; silently exits under a certain
        condition.</para>

      <para>A bug in &man.find.1; utility has been fixed.  An option
	<option>-newerXB</option> was interpreted as the same as
	<option>-newerXm</option>.</para>

      <para>The &man.tftp.1; and &man.tftpd.8; utilities have been
	improved for better interoperability and they now support RFC
	1350, 2347, 2348, 2349, and 3617.</para>

      <para>An accuracy issue in the &man.jn.3; and &man.jnf.3;
	functions in <filename>libm</filename> has been fixed.</para>

      <para>The &man.indent.1; utility now supports a
	<option>-ta</option> flag to treat all
	<literal>_t</literal>-suffixed identifiers as types.</para>

      <para>The <option>-p</option> option in the &man.mount.8;
	utility now displays the <literal>rw</literal> mount option
	correctly as in the &man.fstab.5; format.</para>

      <para>The &man.ncal.1; utility has been updated.  The option
	<option>-b</option> has been replaced with <option>-C</option>
	and <option>-B <replaceable>number</replaceable></option>.
	Options <option>-3</option> to show previous, current and next
	month, and <option>-A
	<replaceable>number</replaceable></option> to show months
	after current month have been added.  The option <option>-m
	<replaceable>N</replaceable>
	<replaceable>YYYY</replaceable></option> now prints only the
	month, not the whole year.</para>

      <para>An issue in the &man.newfs.8; utility has been fixed.  A
	UFS1 file system created with 64KB blocksize was incorrectly
	recognized as one with a broken superblock.  This is because
	the &os; kernel checks a partition first for a UFS2 superblock
	at 64KB offset while it is possible that a UFS1 file systems
	with 64KB blocksize has an alternative superblock at the same
	location.  For example, a file system created by
	<command>newfs -U -O 1 -b 65536 -f 8192</command> could lead
	to this symptom.</para>

      <para>The &man.newsyslog.8; utility does not consider
	non-existence of a PID file as an error now.  A new flag
	<option>-P</option> reverts it to the old behavior.</para>

      <para>The &man.newsyslog.8; utility now supports an <option>-S
        <replaceable>pidfile</replaceable></option> option to override
        the default &man.syslogd.8; PID file.</para>

      <para>The &man.pmcstat.8; utility now supports a file and a
        network socket as a top source.  A new option <option>-O
        <replaceable>filename</replaceable></option> specifies to send
        log output to <replaceable>filename</replaceable>, and another
        new option <option>-R
        <replaceable>filename</replaceable></option> specifies to
        receive events from <replaceable>filename</replaceable>.  For
        a socket, the <replaceable>filename</replaceable> is in a form
        of <replaceable>ipaddr:port</replaceable>.  This allows top
        monitoring over TCP on a system with no local symbols, for
        example.</para>

      <para>The &man.powerd.8; utility now supports an <option>-m
	<replaceable>freq</replaceable></option> and <option>-M
	<replaceable>freq</replaceable></option> to control the
	minimum and maximum frequency, respectively.</para>

      <para>The &man.ruptime.1; utility now displays hostnames longer
	than 12 characters.</para>

      <para>The &man.stat.1; utility now supports
	<literal>%Sf</literal> output specifier to display the file
	flags symbolically.</para>

      <para>The &man.sysctl.8; utility now supports a
	<option>-i</option> flag to ignore failures while retrieving
	individual OIDs.  This allows the same list of OIDs to be
	passed to &man.sysctl.8; across different systems where
	particular OIDs may not exist, and still get as much
	information as possible from them.</para>

      <sect3 id="rc-scripts">
	<title><filename>/etc/rc.d</filename> Scripts</title>

        <para>The &man.rc.conf.5; now supports a
	  <varname>firewall_coscripts</varname> variable.  This should
	  contain a list of commands which should be executed after
	  firewall starts or stops.</para>

        <para>The <filename>rc.d/tmp</filename> script now uses a
	  unique directory name prefixed with
	  <filename>/tmp/.diskless</filename> instead of
	  <filename>/tmp/.diskless</filename> itself.  This fixes an
	  issue when <filename>/tmp/.diskless</filename> exists before
	  the script runs.</para>
      </sect3>
    </sect2>

    <sect2 id="contrib">
      <title>Contributed Software</title>

      <para><application>ISC BIND</application> has been updated to
	version 9.4-ESV-R4.</para>

      <para>The GNU &man.cpio.1; program has been updated to version
	2.8.</para>

      <para>The &man.less.1; program has been updated to version
	v436.</para>

      <para>The <application>netcat</application> program has been
	updated to version 4.8.</para>

      <para><application>OpenSSL</application> has been updated to
	version 0.9.8q.</para>

      <para>The &man.tcsh.1; program has been updated to version
	6.17.00.</para>

      <para>The timezone database has been updated to the
	<application>tzdata2010o</application> release.</para>
    </sect2>

    <sect2 id="releng">
      <title>Release Engineering and Integration</title>

      <para>The &man.sysinstall.8; utility now uses the following
        numbers for default and minimum partition sizes: 1GB for
        <filename>/</filename>, 4GB for <filename>/var</filename>, and
        1GB for <filename>/tmp</filename>.</para>

      <para>The supported version of the
	<application>GNOME</application> desktop environment
	(<filename role="package">x11/gnome2</filename>) has been
	updated to 2.32.1.</para>

      <para>The supported version of the
	<application>KDE</application> desktop environment (<filename
	role="package">x11/kde4</filename>) has been updated to
	4.5.5.</para>
    </sect2>
  </sect1>

  <sect1 id="upgrade">
    <title>Upgrading from previous releases of &os;</title>

    <para arch="amd64,i386">Beginning with &os; 6.2-RELEASE, binary
      upgrades between RELEASE versions (and snapshots of the various
      security branches) are supported using the
      &man.freebsd-update.8; utility.  The binary upgrade procedure
      will update unmodified userland utilities, as well as unmodified
      GENERIC or SMP kernels distributed as a part of an official &os;
      release.  The &man.freebsd-update.8; utility requires that the
      host being upgraded has Internet connectivity.</para>

    <para>An older form of binary upgrade is supported through the
      <command>Upgrade</command> option from the main
      &man.sysinstall.8; menu on CDROM distribution media.  This type
      of binary upgrade may be useful on non-&arch.i386;,
      non-&arch.amd64; machines or on systems with no Internet
      connectivity.</para>

    <para>Source-based upgrades (those based on recompiling the &os;
      base system from source code) from previous versions are
      supported, according to the instructions in
      <filename>/usr/src/UPDATING</filename>.</para>

    <important>
      <para>Upgrading &os; should, of course, only be attempted after
	backing up <emphasis>all</emphasis> data and configuration
	files.</para>
    </important>
  </sect1>
</article>
