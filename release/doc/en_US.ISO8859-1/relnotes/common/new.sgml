<articleinfo>
  <title>&os; &release.current; &arch; Release Notes</title>

  <pubdate>$FreeBSD$</pubdate>

  <corpauthor>The FreeBSD Project</corpauthor>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <holder role="mailto:doc@FreeBSD.org">The FreeBSD Documentation Project</holder>
  </copyright>
</articleinfo>

<!--
	Introduction to the release notes, adapted from the
	introduction to the old RELNOTES.TXT.
-->

<sect1>
  <title>Introduction</title>

  <para>This document contains the release notes for &os; &release.current; on
  the &arch; hardware platform.  It describes new features of &os;
  that have been added (or changed) since &release.prev;.</para>

<![ %release.type.snapshot [

  <para>The &release.type; distribution to which these release notes
  apply represents a point along the &release.branch; development
  branch between &release.prev; and &release.next;.  Some pre-built,
  binary &release.type; distributions along this branch can be found
  at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>This distribution of &os; &release.current; is a &release.type;
  distribution.  It can be found at <ulink
  url="&release.url;"></ulink> or any of its mirrors.  More
  information on obtaining this (or other) &release.type; distributions of
  &os; can be found in the <ulink
  url="http://www.FreeBSD.org/handbook/mirrors.html"><quote>Obtaining
  FreeBSD</quote> appendix</ulink> to the <ulink
  url="http://www.FreeBSD.org/handbook/">FreeBSD Handbook</ulink>.</para>

]]>
</sect1>

<!--
	The "What's New" section of the release notes.  

	Guidelines for new entries:

	1.  If there is some obvious "keyword" associated with an
	entry (such as a manpage entry or an application name), try to
	put it at the start of the sentence.

	2.  Within each subsection (i.e. kernel, security, userland),
	list items in alphabetical order by these keywords.

-->

<sect1>
  <title>What's New</title>

  <para>This section describes the most user-visible new or changed
  features in &os; since &release.prev;.</para>

  <para>Many additional changes were made to &os; that are not listed
  here for lack of space.  For example, documentation was corrected
  and improved, minor bugs were fixed, insecure coding practices were
  audited and corrected, and source code was cleaned up.</para>

  <para>The release notes items are organized into three different
  sections.  <xref linkend="kernel"> lists recent changes to the &os;
  kernel.  Security fixes, including those pertaining to security
  advisories, are listed in <xref linkend="security">.  Finally, <xref
  linkend="userland"> covers changes to &os; userland applications
  included in the base system.</para>

  <sect2 id="kernel">
    <title>Kernel Changes</title>

    <para arch="i386">The load addresses of kernels has been exported
    to the symbol table and various hard-coded constants removed so
    that utilities such as &man.ps.1; can work with kernels compiled
    at different addresses.</para>

    <para>Coredumps of large processes (or of a large number of
    processes) no longer lock up the machine for long periods of
    time.</para>

    <para arch="i386">The number of memory pages allocated for the
    per-process kernel state has been increased from 2 to 3, to reduce
    the likelihood of kernel stack overflow (and subsequent corruption
    of per-process data structures).</para>

    <para arch="i386">A new <varname>KVA_SPACE</varname>kernel option
    can be used to reconfigure the size of the kernel virtual address
    space.</para>

    <para arch="alpha">A <varname>MAXMEM</varname> kernel option,
    along with the <varname>hw.physmem</varname> environment, can be
    used to artificially reduce the memory size of a machine for
    testing (or other purposes).</para>

    <sect3>
      <title>Processor/Motherboard Support</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Network Interface Support</title>

      <para>The &man.an.4; driver now supports <quote>monitor</quote>
      mode, settable via the <option>-M</option> option to
      &man.ancontrol.8;.</para>

      <para arch="i386">The &man.bge.4; driver has been added to
      support the Broadcom BCM570x family of Gigabit Ethernet
      controllers, including the 3Com 3c996-T, the SysKonnect SK-9D21
      and SK-9D41, and the built-in Gigabit Ethernet NICs on Dell
      PowerEdge 2550 servers.  TCP/IP checksum offload, jumbo frames
      and VLAN tag insertion/stripping are supported, as well as
      interrupt moderation.</para>

      <para>The dgm driver has been updated from &os; -CURRENT.</para>
    </sect3>

    <sect3>
      <title>Network Protocols</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Disks and Storage</title>

      <para>The &man.aac.4; driver has been updated from &os;
      -CURRENT.  This update includes proper handling of commands
      initiated by the adapter, addition/removal of disk devices,
      crashdump functionality, and &man.ioctl.2; command necessary for
      the management CLI.</para>
    </sect3>

    <sect3>
      <title>Filesystems</title>

      <para>The directory layout preference algorithm for FFS has been
      changed to improve its speed on large filesystems.</para>
    </sect3>

    <sect3>
      <title>PCCARD Support</title>

      <para></para>
    </sect3>

    <sect3>
      <title>Multimedia Support</title>

      <para>The &man.urio.4; driver, for the Diamond Rio series of MP3
      players, has been added.  (For some reason, a manpage for this
      driver was committed to &os; 4.3-RELEASE.)</para>
    </sect3>

    <sect3>
      <title>Contributed Software</title>

      <para></para>
    </sect3>
  </sect2>
  <sect2 id="security">
    <title>Security-Related Changes</title>

    <para></para>
  </sect2>
  <sect2 id="userland">
    <title>Userland Changes</title>

    <para>&man.cat.1; now has the ability to read from UNIX-domain
    sockets.</para>

    <para>&man.find.1; can now take various units of time to be
    applied to the <option>-[acm]time</option> primaries.</para>

    <para>&man.fmt.1; has been rewritten; the rewrite fixes a number
    of bugs compared to its prior behavior.</para>

    <para>&man.lpd.8; now has some support for
    <literal>o</literal>-type print-file actions in its control files,
    which allows printing of PostScript files generated by
    <application>MacOS</application> 10.1.</para>

    <para>&man.netstat.1; now has a <option>-z</option> flag to reset
    statistics.</para>

    <para>&man.netstat.1; now has a <option>-S</option> flag to print
    address numerically but port names symbolically.</para>

    <para>&man.nl.1;, a line numbering filter program, has been added.</para>

    <para>&man.ping.8; now supports a <option>-A</option> option to
    beep when packets are lost.</para>

    <sect3>
      <title>Contributed Software</title>

      <para><application>OpenSSH</application> has been updated to
      version 2.9, which adds two new programs, &man.sftp.1; and
      &man.ssh-keyscan.1;.  Among the various enhancements: Rekeying
      of existing SSH sessions is now supported, &man.ssh-agent.1; now
      supports authentication forwarding for DSA keys, and an experimental
      <application>SOCKS4</application> proxy has been added to
      &man.ssh.1;.
        <note>
	  <para><literal>Protocol 1,2</literal> remains the default
          protocol setting in
          <filename>/etc/ssh/ssh_config</filename>.  In &os; -CURRENT,
          the default is <literal>Protocol 2,1</literal>.</para>
	</note>
      </para>

      <sect4>
        <title>CVS</title>
      
        <para>&man.cvs.1; now supports a <option>-T</option> option to
        update a sandbox's <filename>CVS/Template</filename> file from
        the repository.</para>

	<para>&man.cvs.1; <literal>diff</literal> now supports the
	<option>-j</option> option to perform differences against a
	revision relative to a branch tag.</para>
      </sect4>
    </sect3>

    <sect3>
      <title>Ports/Packages Collection</title>

      <para></para>
    </sect3>
  </sect2>
</sect1>

<!--
	Summary information on upgrading FreeBSD.  This comes from
	the similarly-named section of RELNOTES.TXT.
-->

<sect1>
  <title>Upgrading from previous releases of &os;</title>

  <para>If you're upgrading from a previous release of &os;,
  most likely it's 4.X and there may be some issues affecting you,
  depending of course on your chosen method of upgrading.  There
  are two popular ways of upgrading &os; distributions:</para>

  <para>
    <itemizedlist>
      <listitem>
        <para>Using sources, via <filename>/usr/src</filename></para>
      </listitem>
      <listitem>
        <para>Using the binary upgrade option of &man.sysinstall.8;.</para>
      </listitem>
    </itemizedlist>
  </para>

  <para>Please read the <filename>INSTALL.TXT</filename> file for more
  information, preferably <emphasis>before</emphasis> beginning an
  upgrade.  If you are upgrading from source, please be sure to read
  <filename>/usr/src/UPDATING</filename> as well.</para>

  <para>Finally, if you want to use one of various means to track the
  -STABLE or -CURRENT branches of &os;, please be sure to consult the
  <ulink
  url="http://www.FreeBSD.org/handbook/current-stable.html"><quote>-CURRENT
  vs. -STABLE</quote></ulink> section of the <ulink
  url="http://www.FreeBSD.org/handbook/">FreeBSD
  Handbook</ulink>.</para>

</sect1>

