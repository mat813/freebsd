<articleinfo>
  <title>&os;/&arch; &release.current; Release Notes</title>

  <corpauthor>The &os; Project</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <year>2004</year>
    <year>2005</year>
    <year>2006</year>
    <year>2007</year>
    <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
  </copyright>

  <legalnotice id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>The release notes for &os; &release.current; contain a summary
      of the changes made to the &os; base system since &release.prev;.
      This document lists applicable security advisories that were issued since
      the last release, as well as significant changes to the &os;
      kernel and userland.
      Some brief remarks on upgrading are also presented.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current; on the &arch.print; hardware platform.  It
    describes recently added, changed, or deleted features of &os;.
    It also provides some notes on upgrading
    from previous versions of &os;.</para>

<![ %release.type.snapshot [

  <para>The &release.type; distribution to which these release notes
    apply represents a point along the &release.branch; development
    branch after &release.prev;.  Note that no further, formal
    releases on the &release.branch; branch are planned at this time.
    Information regarding
    pre-built, binary &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>This distribution of &os; &release.current; is a
    &release.type; distribution.  It can be found at <ulink
    url="&release.url;"></ulink> or any of its mirrors.  More
    information on obtaining this (or other) &release.type;
    distributions of &os; can be found in the <ulink
    url="&url.books.handbook;/mirrors.html"><quote>Obtaining
    &os;</quote> appendix</ulink> to the <ulink
    url="&url.books.handbook;/">&os;
    Handbook</ulink>.</para>

]]>

  <para>All users are encouraged to consult the release errata before
    installing &os;.  The errata document is updated with
    <quote>late-breaking</quote> information discovered late in the
    release cycle or after the release.  Typically, it contains
    information on known bugs, security advisories, and corrections to
    documentation.  An up-to-date copy of the errata for &os;
    &release.current; can be found on the &os; Web site.</para>

</sect1>

<sect1 id="new">
  <title>What's New</title>

  <para>This section describes
    the most user-visible new or changed features in &os;
    since &release.prev;.
  </para>

  <para>Typical release note items
    document recent security advisories issued after
    &release.prev;,
    new drivers or hardware support, new commands or options,
    major bug fixes, or contributed software upgrades.  They may also
    list changes to major ports/packages or release engineering
    practices.  Clearly the release notes cannot list every single
    change made to &os; between releases; this document focuses
    primarily on security advisories, user-visible changes, and major
    architectural improvements.</para>

  <sect2 id="security">
    <title>Security Advisories</title>

    <para>A bug in &man.ypserv.8;, which effectively disabled the
      <filename>/var/yp/securenets</filename> access control mechanism,
      has been corrected.  More details are available in security
      advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:15.ypserv.asc">FreeBSD-SA-06:15.ypserv</ulink>.</para>

    <para>A bug in the smbfs file system, which could allow an
      attacker to escape out of &man.chroot.2 environments on an smbfs
      mounted filesystem, has been fixed.  For more details, see
      security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:16.smbfs.asc">FreeBSD-SA-06:16.smbfs</ulink>.</para>

    <para>A potential denial of service problem in &man.sendmail.8;
      caused by excessive recursion which leads to stack
      exhaustion when attempting delivery of a malformed
      MIME message, has been fixed.  For more details,
      see security advisory <ulink
      url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:17.sendmail.asc">FreeBSD-SA-06:17.sendmail</ulink>.</para>

    <para>A potential buffer overflow condition in &man.sppp.4; has
      been corrected.  For more details, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:18.ppp.asc">FreeBSD-SA-06:18.ppp</ulink>.</para>

    <para>An OpenSSL bug related to validation of PKCS#1 v1.5
      signatures has been fixed.  For more details, see security
      advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:19.openssl.asc">FreeBSD-SA-06:19.openssl</ulink>.</para>

    <para>A potential denial of service attack against &man.named.8;
      has been fixed.  For more details, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:20.bind.asc">FreeBSD-SA-06:20.bind</ulink>.</para>

    <para>Several programming errors have been fixed in &man.gzip.1;.
      They could have the effect of causing a crash or an infinite
      loop when decompressing files.  More information can be found in
      security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:21.gzip.asc">FreeBSD-SA-06:21.gzip</ulink>.</para>

    <para>Several vulnerabilities have been fixed in OpenSSH.  More
      details can be found in security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:22.openssh.asc">FreeBSD-SA-06:22.openssh</ulink>.</para>

    <para>Multiple errors in the OpenSSL &man.crypto.3; library have
      been fixed.  Potential effects are varied, and are documented in
      more detail in security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:23.openssl.asc">FreeBSD-SA-06:23.openssl</ulink>.</para>

    <para>A bug that could allow users in
      the <groupname>operator</groupname> group to read parts of kernel
      memory has been corrected.  For more details, consult security
      advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:25.kmem.asc">FreeBSD-SA-06:25.kmem</ulink>.</para>

    <para>A bug in &man.gtar.1; has been fixed.  Under certain
      circumstances, this bug could allow an attacker to overwrite
      files with the permissions of a user running &man.gtar.1;.  More
      details on the exact impact of the bug, as well as workaround
      and patch information, can be found in security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-06:26.gtar.asc">FreeBSD-SA-06:26.gtar</ulink>.</para>

    <para>A bug in the <filename>jail</filename> startup script that
      could permit privilege escalation via a symlink attack has been
      fixed.  More information is available in
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:01.jail.asc">FreeBSD-SA-07:01.jail</ulink>.</para>

    <para>Two remote denials of service in BIND (one involving DNSSEC and
      one involving recursive DNS queries) have been fixed.  For more
      information, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:02.bind.asc">FreeBSD-SA-07:02.bind</ulink>.</para>

    <para>Processing of IPv6 type 0 Routing Headers is now
      controlled by the <varname>net.inet6.ip6.rthdr0_allowed</varname>
      sysctl variable, which defaults to <literal>0</literal> (off).
      For more information, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:03.ipv6.asc">FreeBSD-SA-07:03.ipv6</ulink>.</para>

    <para>Problems with &man.libarchive.3; and &man.tar.1; handling
      corrupted &man.tar.5; archive files have been fixed.  More
      details can be found in security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:05.libarchive.asc">FreeBSD-SA-07:05.libarchive</ulink>.</para>

    <para>A buffer overflow in OpenSSL (fixed incorrectly in a
      previously security patch) has been corrected.  More details
      can be found in security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:08.openssl.asc">FreeBSD-SA-07:08.openssl</ulink>.</para>
  </sect2>

  <sect2 id="kernel">
    <title>Kernel Changes</title>

    <para></para>

    <!-- Above this line, sort kernel changes by manpage/keyword-->

    <sect3 id="boot">
      <title>Boot Loader Changes</title>

      <para></para>
    </sect3>

    <sect3 id="proc">
      <title>Hardware Support</title>

      <para></para>

      <sect4 id="mm">
	<title>Multimedia Support</title>

	<para></para>
      </sect4>

      <sect4 id="net-if">
	<title>Network Interface Support</title>

	<para></para>
      </sect4>
    </sect3>

    <sect3 id="net-proto">
      <title>Network Protocols</title>

      <para>Multiple copies of a packet received via different
        &man.bpf.4; listeners now all have identical
        timestamps.</para>

      <para>The sysctl variables <varname>net.inet.ip.portrange.reservedhigh</varname>
	and <varname>net.inet.ip.portrange.reservedlow</varname>
	can be used with IPv6 now.</para>
    </sect3>

    <sect3 id="disks">
      <title>Disks and Storage</title>

      <para></para>
    </sect3>

    <sect3 id="fs">
      <title>File Systems</title>

      <para></para>

    </sect3>

    <sect3>
      <title>Contributed Software</title>

      <para></para>

    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>Userland Changes</title>

    <para></para>

    <sect3 id="rc-scripts">
      <title><filename>/etc/rc.d</filename> Scripts</title>

      <para>The <filename>sendmail</filename> script can be instructed
 	not to rebuild the aliases database if it is missing or older than
 	the aliases file.  If desired, set the new rc.conf option
 	<varname>sendmail_rebuild_aliases</varname> to "NO" to turn off
 	that functionality.</para>

    </sect3>
  </sect2>

  <sect2 id="contrib">
    <title>Contributed Software</title>

    <para><application>BIND</application> has been updated from 9.3.1
      to 9.3.4-p1.</para>

    <para><application>netcat</application> has been updated from the
      version in a 4 February 2005 OpenBSD snapshot to the version
      included in OpenBSD 3.9.</para>

    <para><application>sendmail</application> has been updated from
      8.13.6 to 8.14.2.</para>

    <para>The timezone database has been updated from the
      <application>tzdata2006g</application> release to the
      <application>tzdata2007h</application> release.</para>

  </sect2>

  <sect2 id="ports">
    <title>Ports/Packages Collection Infrastructure</title>

    <para></para>
  </sect2>

  <sect2 id="releng">
    <title>Release Engineering and Integration</title>

    <para>The supported version of
      the <application>GNOME</application> desktop environment
      (<filename role="package">x11/gnome2</filename>) has been
      updated from 2.12.3 to 2.20.1.</para>

    <para>The supported version of
      the <application>KDE</application> desktop environment
      (<filename role="package">x11/kde3</filename>) has been
      updated from 3.5.1 to 3.5.7.</para>

    <para arch="i386,amd64">The supported Linux emulation now uses the
      libraries in the
      <filename role="package">emulators/linux_base-fc4</filename>
      package.</para>

  </sect2>

  <sect2 id="doc">
    <title>Documentation</title>

    <para></para>

  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>Upgrading from previous releases of &os;</title>

  <para>If you're upgrading from a previous release of &os;, you
    generally will have three options:

    <itemizedlist>
      <listitem>
	<para>Using the binary upgrade option of &man.sysinstall.8;.
	  This option is perhaps the quickest, although it presumes
	  that your installation of &os; uses no special compilation
	  options.</para>
      </listitem>
      <listitem>
	<para>Performing a complete reinstall of &os;.  Technically,
	  this is not an upgrading method, and in any case is usually less
	  convenient than a binary upgrade, in that it requires you to
	  manually backup and restore the contents of
	  <filename>/etc</filename>.  However, it may be useful in
	  cases where you want (or need) to change the partitioning of
	  your disks.</para>
      </listitem>
      <listitem>
	<para>From source code in <filename>/usr/src</filename>.  This
	  route is more flexible, but requires more disk space, time,
	  and technical expertise.  More information can be found
	  in the <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/makeworld.html"
	    ><quote>Using <command>make world</command></quote></ulink>
	  section of the <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
	    >FreeBSD Handbook</ulink>.  Upgrading from very old
	  versions of &os; may be problematic; in cases like this, it
	  is usually more effective to perform a binary upgrade or a
	  complete reinstall.</para>
      </listitem>
    </itemizedlist>
  </para>

  <para>Please read the <filename>INSTALL.TXT</filename> file for more
    information, preferably <emphasis>before</emphasis> beginning an
    upgrade.  If you are upgrading from source, please be sure to read
    <filename>/usr/src/UPDATING</filename> as well.</para>

  <para>Finally, if you want to use one of various means to track the
    -STABLE or -CURRENT branches of &os;, please be sure to consult
    the <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/current-stable.html"
      ><quote>-CURRENT vs. -STABLE</quote></ulink> section of the
    <ulink url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
      >FreeBSD Handbook</ulink>.</para>

  <important>
    <para>Upgrading &os; should, of course, only be attempted after
      backing up <emphasis>all</emphasis> data and configuration
      files.</para>
  </important>
</sect1>
