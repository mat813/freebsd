<!--
     The FreeBSD Russian Documentation Project

     $FreeBSDru: frdp/release/doc/ru_RU.KOI8-R/relnotes/common/new.sgml,v 1.17 2004/10/11 06:16:43 den Exp $

     Original revision: 1.761.2.41.2.3
-->

<articleinfo>
  <title>Информация о релизе &os;/&arch; &release.current;</title>

  <corpauthor>Проект &os;</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <year>2004</year>
    <year>2005</year>
    <holder role="mailto:doc@FreeBSD.org">Проект документирования &os;</holder>
  </copyright>

  <legalnotice id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>Заметки о релизе для &os; &release.current; содержат общую
      информацию по
      изменениям, внесенным в систему &os; с момента выпуска &release.prev;.
      Этот документ содержит список сообщений безопасности, выпущенных после
      последнего релиза, а также список значительных изменений, внесенных
      в ядро и пользовательские программы &os;.  Представлены также
      краткие заметки по обновлению системы.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Введение</title>

  <para>Этот документ содержит информацию о релизе &os;
    &release.current; для аппаратной платформы &arch.print;.
    В нем описаны недавно добавленные, измененные, или удаленные возможности
    &os;.  Он также представляет некоторые заметки по обновлению
    с предыдущей версии &os;.</para>

<![ %release.type.snapshot [

  <para>Дистрибутив (&release.type;), для которого предоставлена эта
    информация, представляет собой точку на ветви разработки между
    &release.prev; и будущим релизом &release.next;.  Информацию о
    собранных бинарных дистрибутивах (&release.type;) из этой ветви
    можно найти на <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>Этот дистрибутив &os; &release.current; представляет собой
    &release.type;.  Его можно найти на <ulink
    url="&release.url;"></ulink> или на любом из зеркал.  Дополнительная
    информация по получению этого (или другого) &release.type;
    дистрибутива &os; может быть найдена в
    <ulink
    url="&url.books.handbook;/mirrors.html"
>приложении
    <quote>Получение &os;</quote></ulink> <ulink
    url="&url.books.handbook;/">Руководства
    &os;</ulink>.</para>

]]>

  <para>Всем пользователям рекомендуется ознакомиться с сообщениями о
    проблемах перед установкой &os;.  В этот документ вносятся
    самая последняя информация, полученная в позже в процессе выпуска релиза
    или после релиза.  Обычно в нем находятся информация о известных
    ошибках, сообщениях безопасности и исправления документации.
    Актуальную копию сообщений о проблемах для &os;
    &release.current; можно найти на веб сайте &os;.</para>

</sect1>

<sect1 id="new">
  <title>Что нового</title>

  <para>В этом разделе описаны
    основные видимые пользователю добавленные или измененные с
    &release.prev; возможности &os;.  Как правило, изменения, описанные
    здесь, уникальны для &release.branch;, если только они не помечены
    как &merged;.</para>

  <para>Обычно в информации о релизе последовательно включены
    последние сообщения безопасности, выпущенные после
    &release.prev;, информация о поддержке новых драйверов или
    оборудования, новых команд или параметров, информация о основных
    исправлениях ошибок, или обновлениях стороннего программного
    обеспечения.  В нем могут также перечисляться изменения важнейших
    портов/пакетов или практики выпуска релизов.  Конечно, в информацию о
    релизе не вносятся данные о каждом отдельном изменении, сделанном в
    &os; между релизами; этот документ фокусируется в основном на сообщениях
    безопасности, видимых пользователю изменениях, и основных архитектурных
    улучшениях.</para>

  <sect2 id="security">
    <title>Сообщения безопасности</title>

    <para>Была исправлена ошибка в утилите &man.fetch.1;, позволявшая
      злонамеренному HTTP серверу перезапись произвольных участков памяти
      клиента.  За дальнейшей информацией обращайтесь к сообщению безопасности
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:16.fetch.asc">FreeBSD-SA-04:16.fetch</ulink>.</para>

    <para>Была исправлена ошибка в &man.procfs.5; и &man.linprocfs.5;,
      позволявшая злонамеренному локальному пользователю читать части
      памяти ядра или выполнять локальную DoS атаку путем вызова паники
      системы.  За дальнейшей информацией обращайтесь к сообщению безопасности
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:17.procfs.asc">FreeBSD-SA-04:17.procfs</ulink>.</para>

    <para>В клиенте TELNET были исправлены две ошибки переполнения буфера.
      Они могут позволить злонамеренному серверу TELNET или активному
      атакующему в сети между клиентом и сервером заставить
      &man.telnet.1; выполнить произвольный код с привилегиями пользователя,
      запустившего клиент.
      За дальнейшей информацией обращайтесь к сообщению безопасности
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:01.telnet.asc">FreeBSD-SA-05:01.telnet</ulink>.
      </para>

    <para>В системном вызове &man.sendfile.2; была исправлена ошибка,
      связанная с раскрытием информации, которая могла позволить передачу
      произвольных частей памяти ядра.
      За дальнейшей информацией обращайтесь к сообщению безопасности
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:02.sendfile.asc">FreeBSD-SA-05:02.sendfile</ulink>.
      </para>

    <para>Было исправлено возможное расширение привилегий в &os;/amd64.
      Ошибка позволяла непривилегированным пользователям получать прямой
      доступ к некоторому оборудованию, доступ к которому не мог быть
      получен без соответствующего уровня привилегий.
      За дальнейшей информацией обращайтесь к сообщению безопасности
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:03.amd64.asc">FreeBSD-SA-05:03.amd64</ulink>.
      </para>

  </sect2>

  <sect2 id="kernel">
    <title>Изменения в ядре</title>

    <para>&man.jail.8; теперь поддерживает новую переменную sysctl
      <varname>security.jail.chflags_allowed</varname>, которая контролирует
      поведение &man.chflags.1; внутри jail.
      Если переменная установлена в <literal>0</literal> (значение по
      умолчанию), внутри jail <username>root</username> считается
      непривилегированным пользователем; если она установлена в
      <literal>1</literal>, различий между пользователем
      <username>root</username> внутри jail и вне jail не делается.</para>

    <para arch="alpha,amd64,i386">Переменная загрузчика
      <varname>debug.mpsafevm</varname> была включена по
      умолчанию.</para>

    <para>Множество ошибок было исправлено в планировщике ULE.</para>

    <para arch="i386">Была исправлена ошибка в обработке Inter-Processor
      Interrupt (IPI), которая могла вызвать крах SMP систем под высокой
      нагрузкой.  Более подробная информация опубликована в сообщении о
      проблеме
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:03.ipi.asc">FreeBSD-EN-05:03.ipi</ulink>.
      &merged;</para>

    <para arch="i386">Выделение памяти для старых PCI мостов было ограничено
      до 32MB RAM.  Многие старые мосты позволяют выделение памяти только
      из этого диапазона.  Изменение применяется только к устройствам,
      память которых не выделена BIOS.  Это изменение исправляет ошибку
      <quote>bad Vcc</quote> мостов CardBus (&man.pccbb.4;).</para>

    <sect3 id="boot">
      <title>Изменения в загрузчике</title>

      <para></para>
    </sect3>

    <sect3 id="proc">
      <title>Поддержка оборудования</title>

      <para arch="sparc64">Был добавлен драйвер &man.auxio.4; для обработки
	некоторых вспомогательных функций ввода/вывода, обнаруженных
	в различных SBus/EBus &ultrasparc; моделях.</para>

      <para>Была добавлена инфраструктура для гибкого управления
	скоростью процессора.  Она предоставляет различным драйверам
	методы управления энергопотреблением CPU путем изменения
	скорости процессора.  Более детальная информация находится
	на странице справочника &man.cpufreq.4;.</para>

      <para>Был добавлен драйвер pcii для поддержки карт GPIB-PCIIA
	IEEE-488.</para>

      <para arch="sparc64">Был добавлен драйвер rtc для поддержки
	MC146818-совместимых часов, обнаруженных на некоторых моделях
	&ultrasparc; II и III.</para>

      <para arch="sparc64">Драйвер &man.uart.4; был включен в ядре
	<filename>GENERIC</filename>, и теперь это драйвер по умолчанию
	для последовательных портов.  Драйверы ofw_console и
	&man.sab.4; теперь выключены в ядре
	<filename>GENERIC</filename>.</para>

      <sect4 id="mm">
	<title>Поддержка мультимедиа</title>

	<para arch="sparc64">Был добавлен драйвер &man.snd.audiocs.4; для
	  поддержки Crystal Semiconductor CS4231 аудио контроллера,
	  обнаруженного на рабочих станциях &ultrasparc;.</para>

      </sect4>

      <sect4 id="net-if">
	<title>Поддержка сетевых интерфейсов</title>

	<para>Был добавлен USB Communication Device Class Ethernet
	  драйвер &man.cdce.4;.</para>

	<para>Драйвер &man.cp.4; теперь MPSAFE.</para>

	<para>Драйвер &man.ctau.4; теперь MPSAFE.</para>

	<para>Драйвер &man.cx.4; теперь MPSAFE.</para>

	<para>Драйвер &man.ed.4; теперь поддерживает инфраструктуру
          &man.altq.4;.</para>

	<para>В драйвере &man.em.4; была выключена по умолчанию
	  аппаратная поддержка тегов VLAN, поскольку эта функция
	  конфликтовала с promiscuous режимом.</para>

	<para>Контроль потока Ethernet отключен по умолчанию в драйвере
	  &man.fxp.4; для предотвращения проблем &mdash; паники ядра.
	  <!--or is left in the kernel debugger. --></para>

	<para>Драйвер &man.hme.4; теперь MPSAFE.</para>

	<para arch="amd64">Конвертер драйверов устройств &man.ndis.4;
	  теперь поддерживает бинарные файлы &windows;/x86-64 на системах
	  amd64.</para>

	<para>Драйвер &man.re.4; теперь поддерживает инфраструктуру
	  &man.altq.4;.</para>

	<para>Драйвер &man.sf.4; теперь поддерживает device polling и
	  &man.altq.4;.</para>

	<para>Были исправлены несколько программных ошибок в драйвере
	  &man.sk.4;.  Эти ошибки проявлялись на SMP системах,
	  и могли приводить к панике, ошибкам page fault, обрыву соединений
	  SSH или ошибкам при передаче файлов.  Более подробная
	  информация находится в сообщении о проблеме
	  <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:02.sk.asc">FreeBSD-EN-05:02.sk</ulink>.</para>

	<para>Драйвер &man.sk.4; теперь поддерживает &man.altq.4;.
	  Этот драйвер также поддерживает jumbo фреймы на Yukon-based
	  интерфейсах.</para>

      </sect4>
    </sect3>

    <sect3 id="net-proto">
      <title>Сетевые протоколы</title>

      <para>MTU feedback в IPv6 выключается при отправке данных,
	которые должны быть фрагментированы.</para>

      <para>Был реализован Common Address Redundancy Protocol (CARP).
	CARP был взят из OpenBSD и позволяет нескольким хостам
	совместно использовать один IP адрес, чтобы обеспечивать
	высокую доступность и распределение нагрузки.
	За дальнейшей информацией обращайтесь к странице справочника
	&man.carp.4;.</para>

      <para>Система &man.ipfw.4; может работать с
	<varname>debug.mpsafenet</varname>=<literal>1</literal>
	(эта переменная равна <literal>1</literal> по умолчанию)
	когда используются параметры правил <literal>gid</literal>,
	<literal>jail</literal>, и/или <literal>uid</literal>.</para>

      <para>Правило &man.ipfw.8; <literal>ipfw fwd</literal> теперь
	поддерживает полное управление назначением пакета при
	установке параметра ядра
	<literal>options IPFIREWALL_FORWARD_EXTENDED</literal> в дополнение
	к параметру <literal>options IPFIRWALL_FORWARD</literal>.
	Этот параметр ядра устраняет все ограничения для локально созданных
	пакетов и позволяет перенаправление пакетов, предназначенных для
	локально сконфигурированного IP адреса.
	Обратите внимание, что правила &man.ipfw.8; должны быть составлены
	аккуратно, чтобы, например, не нарушить	определение PMTU.
	</para>

      <para>&man.ipnat.8; теперь позволяет определять правила
	перенаправления для не-TCP/UDP пакетов.</para>

      <para>Продолжается работа по уменьшению использования
	Giant блокировки стеком сетевых протоколов и улучшению
	стратегии блокировки.</para>

      <para>Новый узел NetGraph &man.ng.netflow.4; позволяет
	маршрутизатору, работающему под &os;, выполнять экспорт
	NetFlow версии 5.</para>

      <para>Драйвер &man.sppp.4; теперь включает поддержку Frame Relay
	</para>

      <para>Была исправлена ошибка TCP, которая иногда приводила к
	игнорированию пакетов RST при окне приема в ноль байт.
	</para>

      <para>Были исправлены несколько ошибок в реализации TCP
	SACK.</para>

      <para>Реализация KAME IPv4 IPsec, интегрированная в
	&os;, теперь поддерживает TCP-MD5.</para>

      <para>Алгоритм <quote>Random ephemeral port number allocation</quote>
	приводил к некоторым проблемам с повторным использованием
	портов при высокой частоте новых подключений.  Теперь
	в периоды, когда новые соединения создаются быстрее, чем
	<varname>net.inet.ip.portrange.randomcps</varname> в секунду,
	рандомизация номеров портов отключается на следующие
        <varname>net.inet.ip.portrange.randomtime</varname> секунд.
	Значения по умолчанию этих двух переменных sysctl равны
        <literal>10</literal> и <literal>45</literal> соответственно.</para>

    </sect3>

    <sect3 id="disks">
      <title>Диски и хранение</title>

      <para>Драйвер &man.amr.4; теперь может безопасно использоваться
	на системах с &man.pae.4;.</para>

      <para arch="i386,ia64">Был добавлен драйвер &man.arcmsr.4;.
	Он поддерживает контроллеры SATA RAID серий Areca ARC-11<replaceable>xx</replaceable>
	и ARC-12<replaceable>xx</replaceable>.</para>

      <para>Был добавлен драйвер &man.hptmv.4;, поддерживающий
	HighPoint RocketRAID 182x series.</para>

      <para>Драйвер &man.ips.4; теперь поддерживает дампы ядра на
	некоторых современных моделях ServeRAID.</para>

      <para>Был удален драйвер &man.matcd.4;.</para>

      <para>Был добавлен класс SHSEC GEOM.  Он предоставлен для
	разделения секретного ключа (<quote>secret</quote>)
	между несколькими провайдерами GEOM.  Все эти провайдеры
	должны присутствовать, чтобы получить секретный ключ.
	Эта функция контролируется утилитой &man.gshsec.8;.
	</para>

      <para>Информация о вновь смонтированных файловых системах cd9660
	(например, информация о наличии расширений Rockridge) теперь
	печатается только если ядро было собрано в режиме verbose.
	Это изменение было сделано для уменьшения количества
	(зачастую ненужных) протоколируемых сообщений ядра.</para>

    </sect3>

    <sect3 id="fs">
      <title>Файловые системы</title>

      <para>Вычисление суммарной информации для не размонтированных
	корректно (<quote>dirty</quote>) файловых систем UFS и UFS2
	больше не выполняется во время загрузки, а делается фоновым
	&man.fsck.8;.  Это изменение увеличивает скорость загрузки при
	монтировании больших файловых систем после сбоя.  Предыдущее
	поведение может быть восстановлено установкой переменной sysctl
	<varname>vfs.ffs.compute_summary_at_mount</varname>
	в ненулевое значение.</para>

      <para>Была исправлена ошибка NFS сервера, приводившая к панике ядра.
	Более подробная информация находится в сообщении о проблеме
	<ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:01.nfs.asc">FreeBSD-EN-05:01.nfs</ulink>.
	</para>


    </sect3>

    <sect3>
      <title>Стороннее программное обеспечение</title>

      <para><application>ACPI-CA</application> был обновлен с
	20040527 до 20041119.</para>

    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>Изменения в программах пользователя</title>

    <para>Программа &man.ftpd.8; теперь корректно использует коды
      статуса <literal>212</literal> и <literal>213</literal>
      для каталога и файла (в предыдущей версии использовался
      код <literal>211</literal>).  Это поведение описано в
      RFC 959.</para>

    <para>Функция &man.getaddrinfo.3; теперь запрашивает
      записи DNS <literal>A</literal> перед записями <literal>AAAA</literal>,
      когда указан <literal>AF_UNSPEC</literal>.  Некоторые
      DNS серверы некорректно возвращают <literal>NXDOMAIN</literal>
      в ответ на запрос несуществующей записи <literal>AAAA</literal>,
      хотя должны возвращать <literal>NOERROR</literal> с пустой
      записью.  Это проблема для двойного IPv4/IPv6 стека, поскольку
      после возврата <literal>NXDOMAIN</literal> на запрос
      <literal>AAAA</literal> приводит к тому, что запрашивающий сервер
      не пытается разрешить запись <literal>A</literal>.  Кроме того,
      такое поведение потенциально может привести к DoS атаке
      (см. <ulink url="http://www.kb.cert.org/vuls/id/714121"></ulink>
      с более подробной информацией).
      Обратите внимание, что хотя порядок запроса был изменен, возвращаемый
      результат все еще включает запись <literal>AF_INET6</literal>
      перед записью <literal>AF_INET</literal>.</para>

    <para>Команда <literal>create</literal> утилиты &man.gpt.8;
      теперь поддерживает параметр командной строки <option>-f</option>
      для форсирования создания GPT даже если на диске присутствует
      запись MBR.</para>

    <para>Утилита gvinum(8) теперь поддерживает субкоманды
      <command>checkparity</command>,
      <command>rebuildparity</command> и
      <command>setstate</command>.</para>

    <para>Библиотека <filename>libarchive</filename> (как и команда
      &man.tar.1;, ее использующая) теперь поддерживает чтение образов
      ISO (с опциональным расширением RockRidge) и архивов ZIP
      (со сжатием <literal>deflate</literal> и <literal>none</literal>).</para>

    <para>Была добавлена библиотека <filename>libgpib</filename>,
      чтобы предоставить доступ уровня пользователя к устройствам
      GPIB (используя драйвер pcii) через
      <function>ib<replaceable>foo</replaceable></function>
      API.</para>

    <para>Множество исправлений для <filename>libpthread</filename>
      были внесены из HEAD.</para>

    <para>В библиотеке &man.math.3; было реализовано множество новых
      функций.  В их число входят &man.ceill.3;,
      &man.floorl.3;, &man.ilogbl.3;, &man.fma.3; и варианты,
      &man.lrint.3; и варианты, и &man.lround.3; и
      варианты.</para>

    <para arch="i386">Была добавлена не-GPL утилита &man.mkuzip.8;,
      для сжатия образов файловых систем перед использованием
      с модулем <literal>GEOM_UZIP</literal> &man.geom.4;.</para>

    <para>Даемон &man.moused.8; теперь поддерживает <quote>виртуальную
      прокрутку</quote>, когда перемещения мыши при нажатой средней
      кнопке интерпретируются как прокрутка.  Эта функция включается
      флагом <option>-V</option>.</para>

    <para>Для динамических зон &man.named.8; был добавлен отдельный
      каталог, владельцем которого является пользователь
      <username>bind</username> (для создания журнального файла зоны).
      Более подробная информация находится в примере динамической
      зоны файла &man.named.conf.5;.</para>

    <para>Утилита &man.newfs.8; теперь поддерживает флаг <option>-n</option>
      для подавления создания каталога <filename>.snap</filename>
      на новых файловых системах.  Эта функция предназначена для
      использования с файловыми системами в памяти или виртуальными
      файловыми системами, которым не требуется поддержка образов.</para>

    <para>Утилита &man.newfs.8; теперь выдает предупреждение при создании
      файловых систем UFS или UFS2, которые не могут поддерживать образы.
      Такая ситуация может возникать в случае очень больших файловых систем
      с блоками малого размера.</para>

    <para>Была добавлена переменная компиляции системы
      <literal>NO_NIS</literal>.  Как следует из ее имени, включение
      этой переменной приведет к исключению поддержки NIS из различных
      программ, и утилиты NIS не будут компилироваться.</para>

    <para>Утилита &man.ncal.1; теперь поддерживает флаг <option>-m</option>
      для создания календаря определенного месяца в текущем году.</para>

    <para>Проверка безопасности в &man.periodic.8; теперь поддерживает
      отображение счетчиков пакетов, заблокированных
      &man.pf.4;.</para>

    <para>В программе &man.ppp.8; реализован параметр
      <option>echo</option>, позволяющий включать LCP ECHO
      независимо от LQR.  Более старые версии &man.ppp.8;
      переходят в режим LCP ECHO если согласование lqr
      не будет успешно проведено.  Теперь для получения
      такого поведения необходимо указать <command>enable
      echo</command>.</para>

    <para>Были исправлены две ошибки в программе &man.pppd.8;.
      Они могли привести к некорректному ответу CBCP,
      нарушающему Microsoft PPP Callback Control Protocol
      section 3.2.</para>

    <para>Утилита &man.rm.1; теперь поддерживает параметр
      <option>-I</option>, с которым (однократно) запрашивается
      подтверждение при рекурсивном удалении каталогов или
      более 3 файлов, перечисленных в командной строке.</para>

    <para>Динамический компоновщик &man.rtld.1; теперь поддерживает
      указание замещающих библиотек через переменную окружения
      <varname>LD_LIBMAP</varname>.  Эта переменная перезаписывает
      записи в &man.libmap.conf.5;.</para>

    <para>Функция &man.strftime.3; теперь поддерживает некоторые GNU
      расширения, такие как <literal>-</literal> (без заполнения),
      <literal>_</literal> (использовать пробел для заполнения),
      и <literal>0</literal> (заполнение нулями).</para>

    <para>Функцию &man.syslog.3; теперь можно безопасно использовать
      в многопоточных программах.</para>

    <para>Утилита &man.syslogd.8; теперь открывает дополнительный
      сокет (<filename>/var/run/logpriv</filename> по умолчанию),
      с правами <literal>0600</literal> для использования
      привилегированными программами.  Это предотвращает блокировку
      привилегированных программ, когда буфер сокета переполняется
      вследствие локальной DoS атаки.</para>

    <para>&man.systat.1; <option>-netstat</option> теперь приспособлен
      для IPv6.</para>

    <para>Параметр <option>-f</option> утилиты &man.tail.1;
      теперь поддерживает более одного файла одновременно.</para>

    <para>Была добавлена команда &man.tcpdrop.8;, закрывающая выбранное
      соединение TCP.  Она была заимствована из OpenBSD.</para>

    <para>&man.whois.1; теперь поддерживает флаг <option>-k</option>
      для запроса <hostid role="fqdn">whois.krnic.net</hostid>
      (the National Internet Development Agency of Korea),
      содержащего информацию о IP адресах в Корее.</para>

    <para>Была исправлена ошибка чтения файлов конфигурации,
      таких как &man.hosts.5;, &man.services.5; и так далее, которые
      не заканчивались символом новой строки.</para>

    <sect3 id="rc-scripts">
      <title>Скрипты <filename>/etc/rc.d</filename></title>

      <para>&man.rc.conf.5; теперь поддерживает изменение имен
	сетевых интерфейсов во время загрузки.
        Например:</para>

      <programlisting>ifconfig_fxp0_name="net0"
ifconfig_net0="inet 10.0.0.1/16"</programlisting>

      <para>&man.rc.conf.5; теперь поддерживает переменные
	<varname>tmpmfs_flags</varname> и <varname>varmfs_flags</varname>.
	Они могут использоваться для передачи дополнительных параметров
	утилите &man.mdmfs.8;, задания &man.md.4; параметров создания
	файловой системы, таких как включение/выключение softupdates,
	указания владельца файловой системы по умолчанию и так далее.
	</para>

    </sect3>
  </sect2>

  <sect2 id="contrib">
    <title>Стороннее программное обеспечение</title>

    <para><application>BIND</application> был обновлен с версии
      9.3.0 до версии 9.3.1.</para>

    <para><application>Heimdal</application> был обновлен с
      0.6.1 до 0.6.3.</para>

    <para>Был добавлен снэпшот <application>netcat</application>
      из OpenBSD от 4 февраля 2005 года.  Более подробная информация
      находится на странице справки по &man.nc.1;.</para>

    <para><application>OpenSSL</application> был обновлен с
      0.9.7d до 0.9.7e.</para>

    <para><application>sendmail</application> был обновлен с
      версии 8.13.1 до версии 8.13.3.</para>

    <para>База данных timezone была обновлена с релиза
      <application>tzdata2004e</application> до релиза
      <application>tzdata2004g</application>.</para>

  </sect2>

  <sect2 id="ports">
    <title>Инфраструктура коллекции портов/пакетов</title>

    <para>Файлы
      <filename>ports/INDEX<replaceable>*</replaceable></filename>,
      в которых находится индекс всех портов коллекции,
      был удален из репозитория CVS.
      Этот файл генерировался не часто, и следовательно обычно был
      устаревшим и не соответствовал состоянию портов.
      Пользователи, которым требуется индексный файл (например,
      для использования с такими программами, как &man.portupgrade.1;),
      могут получить копию двумя способами:</para>

    <itemizedlist>
      <listitem>
	<para>Создать индекс файл на основе текущего дерева портов,
	  выполнив <command>make index</command> из корневого каталога
	  дерева <filename>ports/</filename>.</para>
      </listitem>

      <listitem>
	<para>Забрать индексный файл по сети, выполнив
	  <command>make fetchindex</command> из корневого каталога
	  дерева <filename>ports/</filename>.  Этот индексный файл
	  (как правило) подходит для использования в течение дня.</para>
      </listitem>
    </itemizedlist>

  </sect2>

  <sect2 id="releng">
    <title>Подготовка релизов и интеграция</title>

    <para>В предыдущих релизах &os;, CD-ROM (или образ ISO)
      <filename>disc1</filename> был загрузочным установочным
      диском, содержащим основную систему, дерево портов
      и широко используемые пакеты.  CD-ROM (или образ ISO)
      <filename>disc2</filename> был загрузочным
      <quote>fix it</quote> диском с live filesystem, и был
      предназначен для восстановления после критических сбоев.
      Теперь для всех архитектур за исключением ia64, на
      <filename>disc1</filename> находится базовая система,
      дерево портов и live filesystem, что делает возможным
      как установку с этого диска, так и восстановление после
      сбоев.  (На ia64, live filesystem находится на отдельном
      диске, поскольку не умещается на первый).  Пакеты помещаются
      на отдельный диск; в частности, образ <filename>disc2</filename>
      содержит общеиспользуемые пакеты, такие как десктоп-приложения.
      Документы Проекта документирования &os; также помещаются на
      <filename>disc2</filename>.</para>

    <para>Поддерживаемая версия десктопа
      <application>GNOME</application> была обновлена с
      2.6.2 до 2.10.  Более подробная информация о работе
      <application>GNOME</application> в &os; находится на веб странице
      <ulink url="&url.base;/gnome/">FreeBSD GNOME Project</ulink>.

      <note>
	<para>Пользователи предыдущих версий
	  <application>GNOME</application>
	  (<filename role="package">x11/gnome2</filename>)
	  должны подойти к обновлению с определенной осторожностью.
	  Простое обновление из коллекции портов &os; с помощью
	  &man.portupgrade.1;
	  (<filename role="package">sysutils/portupgrade</filename>)
	  вызовет серьезные проблемы.  Пользователи
	  <application>GNOME</application> должны внимательно прочесть
	  инструкции
	  <ulink url="&url.base;/gnome/docs/faq210.html"></ulink>
	  и использовать скрипт
	  <ulink url="&url.base;/gnome/gnome_upgrade.sh"><filename>gnome_upgrade.sh</filename></ulink>
	  для обновления до
	  <application>GNOME</application> 2.10.</para>
	</note>
      </para>

    <para>Поддерживаемая версия <application>KDE</application>
      была обновлена с 3.3.0 до 3.4.0.  Более подробная информация о работе
      <application>KDE</application> в &os; находится на веб странице
      <ulink url="http://freebsd.kde.org/">KDE в FreeBSD</ulink>.

      <note>
	<para>Пользователям более старых версий
	  <application>KDE</application> предлагается следовать процедуре
	  обновления, документированной на веб странице
	  <ulink url="http://freebsd.kde.org/">KDE on FreeBSD</ulink>
	  иди в файле <filename>ports/UPDATING</filename>.</para>
	</note>
    </para>

    <para>Поддерживаемая версия <application>Xorg</application> была
      обновлена с 6.7.0 до 6.8.2.</para>

  </sect2>

  <sect2 id="doc">
    <title>Документация</title>

    <para>Следующие страницы справочной системы, которые были получены
      из документов RFC, и возможно нарушали IETF копирайт, были замещены:
      &man.gai.strerror.3;,
      &man.getaddrinfo.3;,
      &man.getnameinfo.3;,
      &man.inet6.opt.init.3;,
      &man.inet6.option.space.3;,
      &man.inet6.rth.space.3;,
      &man.inet6.rthdr.space.3;,
      &man.icmp6.4; и
      &man.ip6.4;.</para>

  </sect2>

</sect1>

<sect1 id="upgrade">
  <title>Обновление с предыдущих релизов &os;</title>

  <para>Пользователям с уже установленными системами &os; 
    <emphasis>настоятельно</emphasis> рекомендуется прочесть
    <quote>Руководство по миграции на &os; &release.current;</quote>.
    На дистрибутивном носителе или в любом другом месте, где можно найти
    информацию о релизе, имя файла этого документа обычно
    <filename>MIGRATE5.TXT</filename>.  Он предоставляет отдельные заметки
    по обновлению с &os; 4.X, но, что более важно, сравнительно рассматривает работу с
    4.<replaceable>X</replaceable> и обновление до
    5.<replaceable>X</replaceable>.</para>

  <important>
    <para>Обновление &os; конечно же должно производиться только после
      резервного копирования <emphasis>всех</emphasis> данных и
      файлов настройки.</para>
  </important>
</sect1>
